<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‡·èˆŠé€šè¨Šè£ç½®æ™‚å…‰æ©Ÿ - å®Œå…¨æ¨¡æ“¬ç‰ˆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --color-primary: #ff9900;
            --color-secondary: #00ccff;
            --color-success: #00cc00;
            --color-warning: #ffcc00;
            --color-danger: #ff3333;
            --color-dark: #0a0a14;
            --color-medium: #1a1a2e;
            --color-light: #2a2a3e;
            --color-text: #ffffff;
            --color-text-secondary: #cccccc;
            --border-radius: 15px;
            --transition: all 0.3s ease;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, var(--color-dark) 0%, #000010 100%);
            color: var(--color-text);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* é é¢ç³»çµ± */
        .page { display: none; min-height: 100vh; padding: 20px; }
        .page.active { display: block; animation: fadeIn 0.5s ease; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ä¸»é  */
        .header { text-align: center; padding: 40px 20px 30px; }
        .logo { display: flex; align-items: center; justify-content: center; gap: 20px; margin-bottom: 20px; }
        .logo-icon { 
            font-size: 4rem; color: var(--color-primary); 
            background: rgba(0, 0, 0, 0.3); width: 100px; height: 100px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            border: 3px solid var(--color-primary); box-shadow: 0 0 30px rgba(255, 153, 0, 0.3);
        }
        .logo-text h1 { 
            font-size: 2.5rem; background: linear-gradient(135deg, var(--color-primary), var(--color-warning)); 
            -webkit-background-clip: text; background-clip: text; color: transparent; 
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        .logo-text p { color: var(--color-secondary); font-size: 1.2rem; }
        
        /* æ™‚é–“ç·š */
        .timeline-nav { max-width: 1000px; margin: 30px auto; padding: 20px; }
        .timeline-title { text-align: center; color: var(--color-primary); font-size: 1.8rem; margin-bottom: 30px; }
        .timeline { display: flex; justify-content: space-between; margin: 40px 0; position: relative; }
        .timeline::before { 
            content: ''; position: absolute; top: 20px; left: 0; right: 0; height: 3px; 
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary)); z-index: 1;
        }
        .timeline-item { position: relative; z-index: 2; text-align: center; flex: 1; cursor: pointer; transition: var(--transition); }
        .timeline-year { 
            display: inline-block; width: 45px; height: 45px; line-height: 45px; 
            background: var(--color-dark); border: 3px solid var(--color-primary); 
            border-radius: 50%; font-weight: bold; margin-bottom: 10px; transition: var(--transition);
        }
        .timeline-item:hover .timeline-year { transform: scale(1.2); color: var(--color-primary); }
        .timeline-device { font-size: 1.8rem; color: var(--color-text-secondary); margin-bottom: 5px; transition: var(--transition); }
        .timeline-item:hover .timeline-device { color: var(--color-text); }
        .timeline-period { font-size: 0.8rem; color: var(--color-text-muted); }
        
        /* ä¸»è¦å…§å®¹ */
        .main-content { 
            max-width: 800px; margin: 0 auto; padding: 30px; 
            background: rgba(26, 26, 46, 0.8); border-radius: var(--border-radius); 
            border: 2px solid #444455; backdrop-filter: blur(10px); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        .features { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 40px 0; }
        .feature-card { 
            background: rgba(40, 40, 60, 0.6); border-radius: var(--border-radius); 
            padding: 25px; border: 1px solid #444455; transition: var(--transition);
        }
        .feature-card:hover { transform: translateY(-5px); border-color: var(--color-primary); box-shadow: 0 10px 20px rgba(255, 153, 0, 0.1); }
        .feature-icon { font-size: 2.5rem; color: var(--color-primary); margin-bottom: 15px; }
        
        /* æŒ‰éˆ• */
        .guide-btn, .next-page-btn {
            display: block; width: 100%; padding: 20px; 
            background: linear-gradient(135deg, var(--color-primary), #ff6600);
            color: #000; border: none; border-radius: var(--border-radius); 
            font-size: 1.3rem; font-weight: bold; cursor: pointer; transition: var(--transition);
            margin-bottom: 20px; display: flex; align-items: center; justify-content: center; gap: 15px;
        }
        .guide-btn:hover, .next-page-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 25px rgba(255, 153, 0, 0.3); }
        .next-page-btn { 
            background: linear-gradient(135deg, var(--color-secondary), #0088ff); 
            max-width: 300px; margin: 0 auto;
        }
        
        /* è¨­å‚™é¸æ“‡é  */
        .device-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; max-width: 1400px; margin: 0 auto; padding: 20px; }
        .device-card {
            background: linear-gradient(135deg, rgba(40, 40, 60, 0.8) 0%, rgba(30, 30, 50, 0.9) 100%);
            border-radius: var(--border-radius); padding: 30px; border: 2px solid #444455; 
            transition: var(--transition); cursor: pointer; position: relative; overflow: hidden;
        }
        .device-card:hover { transform: translateY(-10px); border-color: var(--color-primary); box-shadow: 0 15px 35px rgba(255, 153, 0, 0.2); }
        .device-card::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 5px;
            background: linear-gradient(90deg, var(--color-primary), var(--color-warning));
        }
        .device-icon { font-size: 3.5rem; color: var(--color-primary); margin-bottom: 20px; text-align: center; }
        .device-era {
            display: inline-block; background: rgba(255, 153, 0, 0.2); color: var(--color-primary);
            padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; margin-bottom: 15px;
        }
        
        /* æ¨¡æ“¬å™¨é  */
        #simulator-page { background: #000; padding: 0; }
        .simulator-container { display: grid; grid-template-columns: 280px 1fr 300px; height: 100vh; gap: 0; }
        
        /* å´é‚Šæ¬„ */
        .sidebar { 
            background: linear-gradient(180deg, rgba(20, 20, 30, 0.95) 0%, rgba(30, 30, 45, 0.95) 100%); 
            border-right: 2px solid #444455; padding: 20px; overflow-y: auto; backdrop-filter: blur(10px);
        }
        .control-section { margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #444455; }
        .control-title { 
            color: var(--color-primary); font-size: 1.2rem; margin-bottom: 15px; 
            display: flex; align-items: center; gap: 10px;
        }
        
        /* ä¸»æ¨¡æ“¬å€ */
        .main-simulator { background: #000; display: flex; flex-direction: column; position: relative; }
        .simulator-header { 
            background: rgba(40, 40, 60, 0.9); padding: 15px 25px; border-bottom: 2px solid #444455; 
            display: flex; justify-content: space-between; align-items: center; backdrop-filter: blur(5px);
        }
        .device-title { color: var(--color-primary); font-size: 1.5rem; display: flex; align-items: center; gap: 10px; }
        .device-meta { display: flex; gap: 20px; }
        .meta-item { text-align: center; }
        .meta-label { color: var(--color-text-muted); font-size: 0.8rem; margin-bottom: 3px; }
        .meta-value { color: var(--color-text); font-weight: bold; font-size: 1.1rem; }
        
        /* è¨­å‚™é¡¯ç¤ºå€åŸŸ */
        .device-display { 
            flex: 1; background: #000; position: relative; overflow: hidden; 
            margin: 20px; display: flex; align-items: center; justify-content: center;
        }
        
        /* è¨­å‚™æ¨£å¼ */
        .device-rotary { 
            border: 20px solid #8B4513; border-radius: 20px; background: #D2691E; 
            width: 400px; height: 500px; position: relative;
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.5), 0 10px 30px rgba(0, 0, 0, 0.7);
        }
        .rotary-screen { 
            background: #2F4F4F; width: 90%; height: 150px; margin: 30px auto; border-radius: 10px; 
            border: 5px solid #000; display: flex; align-items: center; justify-content: center; 
            font-family: 'Courier New', monospace; font-size: 1.8rem; color: #00FF00; text-shadow: 0 0 10px #00FF00;
        }
        .rotary-dial { 
            width: 200px; height: 200px; background: #333; border-radius: 50%; 
            margin: 30px auto; position: relative; border: 10px solid #444;
        }
        .dial-hole {
            position: absolute; width: 40px; height: 40px; background: #666; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; color: white;
            font-weight: bold; font-size: 1.2rem; cursor: pointer; transition: var(--transition);
        }
        .dial-hole:hover { background: #888; transform: scale(1.1); }
        
        /* BBæ©Ÿ */
        .device-pager { 
            border: 15px solid #333; border-radius: 15px; background: #111; 
            width: 250px; height: 400px; position: relative;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8), 0 10px 20px rgba(0, 0, 0, 0.5);
        }
        .pager-screen { 
            background: #000033; width: 90%; height: 180px; margin: 20px auto; border-radius: 5px; 
            border: 3px solid #333; font-family: 'Courier New', monospace; color: #00FFFF; 
            padding: 15px; overflow: hidden; position: relative;
        }
        .pager-screen::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(rgba(0, 255, 255, 0.05) 1px, transparent 1px),
                       linear-gradient(90deg, rgba(0, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 3px 3px; pointer-events: none;
        }
        .pager-buttons { display: flex; justify-content: space-around; margin-top: 20px; }
        .pager-btn { 
            width: 60px; height: 30px; background: #444; border: none; border-radius: 5px; 
            color: white; font-weight: bold; cursor: pointer; transition: var(--transition);
        }
        .pager-btn:hover { background: #666; }
        
        /* å¤§å“¥å¤§ */
        .device-brickphone { 
            border: 20px solid #222; border-radius: 30px; background: #333; 
            width: 300px; height: 700px; position: relative;
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.5), 0 15px 40px rgba(0, 0, 0, 0.8);
        }
        .brickphone-screen { 
            background: #003300; width: 90%; height: 120px; margin: 30px auto; border-radius: 10px; 
            border: 5px solid #000; font-family: 'Courier New', monospace; font-size: 1.5rem; 
            color: #00FF00; display: flex; align-items: center; justify-content: center; 
            text-shadow: 0 0 5px #00FF00;
        }
        .brickphone-antenna {
            position: absolute; top: -50px; left: 50%; transform: translateX(-50%);
            width: 10px; height: 60px; background: #555; border-radius: 5px 5px 0 0;
        }
        
        /* Nokia 3310 */
        .device-nokia3310 { 
            border: 15px solid #333; border-radius: 40px; background: #000; 
            width: 300px; height: 600px; position: relative;
            box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.8), 0 0 50px rgba(255, 255, 255, 0.1);
        }
        .nokia-screen { 
            background: linear-gradient(135deg, #003366, #000033); width: 90%; height: 200px; 
            margin: 30px auto; border-radius: 10px; border: 3px solid #333; 
            font-family: 'Courier New', monospace; color: #00ffff; position: relative; 
            overflow: hidden; padding: 15px;
        }
        .nokia-screen::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(rgba(0, 255, 255, 0.05) 1px, transparent 1px),
                       linear-gradient(90deg, rgba(0, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 4px 4px; pointer-events: none;
        }
        
        /* æ—©æœŸæ™ºèƒ½æ‰‹æ©Ÿ */
        .device-earlysmartphone { 
            border: 10px solid #333; border-radius: 30px; background: #222; 
            width: 350px; height: 550px; position: relative;
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.5), 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        .earlysmartphone-screen { 
            background: #000; width: 100%; height: 100%; border-radius: 20px; 
            overflow: hidden; position: relative;
        }
        .earlysmartphone-os { 
            background: linear-gradient(135deg, #3a6186, #89253e); width: 100%; height: 100%; 
            padding: 20px; font-family: Arial, sans-serif; color: white;
        }
        
        /* ç¾ä»£æ™ºèƒ½æ‰‹æ©Ÿ */
        .device-modernsmartphone { 
            border: none; border-radius: 40px; background: #111; 
            width: 350px; height: 700px; position: relative;
            box-shadow: 0 0 0 1px #333, 0 20px 50px rgba(0, 0, 0, 0.5); overflow: hidden;
        }
        .modernsmartphone-screen { 
            background: #000; width: 100%; height: 100%; border-radius: 40px; 
            overflow: hidden; position: relative;
        }
        .modernsmartphone-os { 
            background: #000; width: 100%; height: 100%; 
            font-family: -apple-system, BlinkMacSystemFont, sans-serif; color: white; position: relative;
        }
        .modernsmartphone-notch {
            position: absolute; top: 0; left: 50%; transform: translateX(-50%);
            width: 200px; height: 30px; background: #000; border-radius: 0 0 20px 20px; z-index: 10;
        }
        
        /* éŠæˆ²å€åŸŸ */
        .game-container { 
            display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; 
            background: #000; z-index: 10;
        }
        .game-container.active { display: block; }
        
        /* é€šè©±ç•Œé¢ */
        .call-screen { 
            display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; 
            background: #000; z-index: 20; flex-direction: column; 
            justify-content: center; align-items: center;
        }
        .call-screen.active { display: flex; }
        .caller-info { text-align: center; margin-bottom: 40px; }
        .caller-name { font-size: 2.5rem; color: #fff; margin-bottom: 10px; }
        .caller-number { font-size: 1.5rem; color: #ccc; }
        .call-timer { font-size: 4rem; color: #00ff00; margin: 40px 0; font-family: 'Courier New', monospace; font-weight: bold; }
        .call-controls { display: flex; gap: 40px; margin-top: 40px; }
        .call-btn { 
            width: 80px; height: 80px; border-radius: 50%; border: none; font-size: 2rem; 
            cursor: pointer; transition: var(--transition); display: flex; align-items: center; justify-content: center;
        }
        .call-accept { background: #00cc00; color: white; }
        .call-accept:hover { background: #00ee00; transform: scale(1.1); }
        .call-end { background: #cc0000; color: white; }
        .call-end:hover { background: #ee0000; transform: scale(1.1); }
        
        /* æ§åˆ¶é¢æ¿ */
        .control-panel { 
            background: linear-gradient(180deg, rgba(20, 20, 30, 0.95) 0%, rgba(30, 30, 45, 0.95) 100%); 
            border-left: 2px solid #444455; padding: 20px; overflow-y: auto; backdrop-filter: blur(10px);
        }
        .phone-keypad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0; }
        .keypad-btn {
            background: linear-gradient(135deg, #333, #555); border: 2px solid #444; border-radius: 15px;
            color: white; font-size: 1.8rem; font-weight: bold; height: 80px; cursor: pointer;
            transition: var(--transition); display: flex; flex-direction: column; align-items: center; justify-content: center;
            user-select: none;
        }
        .keypad-btn:hover { 
            background: linear-gradient(135deg, #444, #666); transform: translateY(-3px); 
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.1);
        }
        .keypad-btn:active { transform: translateY(0); background: linear-gradient(135deg, #555, #777); }
        .keypad-sub { font-size: 0.7rem; color: #aaa; margin-top: 5px; font-weight: normal; }
        
        /* å°èˆªæŒ‰éˆ• */
        .nav-buttons { position: fixed; top: 20px; left: 20px; z-index: 1000; display: flex; gap: 15px; }
        .nav-btn {
            padding: 12px 25px; background: rgba(40, 40, 60, 0.9); border: 2px solid #444455;
            border-radius: var(--border-radius); color: var(--color-text); font-weight: bold;
            cursor: pointer; transition: var(--transition); backdrop-filter: blur(5px);
            display: flex; align-items: center; gap: 10px;
        }
        .nav-btn:hover { background: rgba(255, 153, 0, 0.2); border-color: var(--color-primary); }
        
        /* å·¥å…·æ¬„ */
        .toolbar { position: fixed; top: 20px; right: 20px; z-index: 1000; display: flex; flex-direction: column; gap: 15px; }
        .tool-btn {
            width: 60px; height: 60px; border-radius: 50%; border: none;
            background: linear-gradient(135deg, var(--color-primary), var(--color-warning));
            color: #000; font-size: 1.5rem; cursor: pointer; transition: var(--transition);
            display: flex; align-items: center; justify-content: center; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        .tool-btn:hover { transform: scale(1.1); box-shadow: 0 10px 20px rgba(255, 153, 0, 0.4); }
        
        /* é€šçŸ¥ç³»çµ± */
        .notification-container { 
            position: fixed; top: 100px; right: 20px; z-index: 2000; 
            display: flex; flex-direction: column; gap: 10px; max-width: 300px;
        }
        .notification {
            background: rgba(20, 20, 40, 0.95); border: 1px solid var(--color-primary); border-radius: 10px;
            padding: 15px; color: var(--color-text); backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); transform: translateX(100%); opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease; display: flex; align-items: center; gap: 10px;
        }
        .notification.show { transform: translateX(0); opacity: 1; }
        .notification-icon { font-size: 1.2rem; color: var(--color-primary); }
        
        /* è¡Œå‹•å°èˆª */
        .mobile-nav { display: none; position: fixed; bottom: 0; left: 0; right: 0; background: rgba(30, 30, 45, 0.95); border-top: 2px solid #444455; padding: 10px; z-index: 1000; }
        .mobile-nav-buttons { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; }
        .mobile-nav-btn {
            background: rgba(40, 40, 60, 0.8); border: 1px solid #444455; border-radius: 10px;
            padding: 12px 5px; color: var(--color-text); font-size: 0.8rem; text-align: center;
            cursor: pointer; transition: var(--transition); display: flex; flex-direction: column; align-items: center; gap: 5px;
        }
        .mobile-nav-btn:hover { background: rgba(255, 153, 0, 0.2); border-color: var(--color-primary); }
        
        /* æ‡‰ç”¨ç¨‹å¼æ¨£å¼ */
        .app-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; padding: 20px; }
        .app-icon {
            background: rgba(255, 255, 255, 0.1); border-radius: 20px; padding: 15px; text-align: center;
            cursor: pointer; transition: var(--transition); backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .app-icon:hover { 
            background: rgba(255, 255, 255, 0.2); transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        .app-icon:active { transform: translateY(0); }
        .app-icon i { font-size: 2rem; margin-bottom: 8px; }
        .app-name { font-size: 0.7rem; margin-top: 5px; }
        
        /* Nokia å¤–æ®¼é¸æ“‡å™¨ */
        .shell-selector {
            position: absolute; bottom: 10px; left: 10px; right: 10px;
            display: flex; gap: 10px; justify-content: center;
        }
        .shell-option {
            width: 30px; height: 30px; border-radius: 50%; border: 2px solid transparent;
            cursor: pointer; transition: var(--transition);
        }
        .shell-option:hover { transform: scale(1.2); }
        .shell-option.active { border-color: var(--color-primary); box-shadow: 0 0 10px var(--color-primary); }
        
        /* å›æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 1200px) {
            .simulator-container { grid-template-columns: 250px 1fr; }
            .control-panel { display: none; }
        }
        
        @media (max-width: 768px) {
            .logo-text h1 { font-size: 2rem; }
            .timeline { flex-direction: column; align-items: center; gap: 40px; }
            .timeline::before { display: none; }
            .device-grid { grid-template-columns: 1fr; }
            .simulator-container { grid-template-columns: 1fr; }
            .sidebar, .control-panel { display: none; }
            .device-display { transform: scale(0.8); margin: 10px; }
            .mobile-nav { display: block; }
            .nav-buttons { top: 10px; left: 10px; flex-direction: column; }
            .toolbar { top: 10px; right: 10px; }
        }
        
        /* å‹•ç•« */
        @keyframes shake { 
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        @keyframes rotateDial { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes powerOff { from { opacity: 1; } to { opacity: 0; } }
        
        .shake { animation: shake 0.5s ease-in-out; }
        .rotating { animation: rotateDial 0.5s ease-out; }
        .power-off { animation: powerOff 1s ease-out forwards; }
        
        /* è‡ªå®šç¾©æ»¾å‹•æ¢ */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px; }
        ::-webkit-scrollbar-thumb { background: linear-gradient(135deg, var(--color-primary), var(--color-secondary)); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: linear-gradient(135deg, var(--color-warning), #00aaff); }
        
        /* æ‡‰ç”¨ç¨‹å¼å…§å®¹ */
        .app-content {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #000;
            z-index: 15;
            display: none;
            padding: 20px;
            overflow-y: auto;
        }
        
        .app-content.active {
            display: block;
        }
        
        .app-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #444;
        }
        
        .app-back-btn {
            background: none;
            border: none;
            color: var(--color-primary);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px 10px;
        }
        
        /* é€šè¨ŠéŒ„æ¨£å¼ */
        .contact-list {
            list-style: none;
        }
        
        .contact-item {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .contact-item:hover {
            background: rgba(255,255,255,0.1);
        }
        
        .contact-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .contact-number {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        /* è¨Šæ¯æ¨£å¼ */
        .message-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .message-bubble {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .message-in {
            background: #0066cc;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        
        .message-out {
            background: #333;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .message-time {
            font-size: 0.7rem;
            color: #aaa;
            margin-top: 5px;
            text-align: right;
        }
        
        /* è¨ˆç®—æ©Ÿæ¨£å¼ */
        .calculator-display {
            background: #003300;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-family: 'Courier New', monospace;
            font-size: 1.8rem;
            color: #00ff00;
            text-align: right;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            overflow: hidden;
        }
        
        .calculator-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        
        .calc-btn {
            background: #444;
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 1.2rem;
            padding: 15px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .calc-btn:hover {
            background: #555;
        }
        
        .calc-btn.operator {
            background: #ff9900;
            color: #000;
        }
        
        .calc-btn.equals {
            background: #00cc00;
            color: #000;
        }
        
        /* ç›¸æ©Ÿæ¨£å¼ */
        .camera-viewfinder {
            width: 100%;
            height: 300px;
            background: #000;
            border-radius: 10px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .camera-viewfinder::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 49%, rgba(0,255,255,0.1) 50%, transparent 51%),
                      linear-gradient(-45deg, transparent 49%, rgba(0,255,255,0.1) 50%, transparent 51%);
            background-size: 20px 20px;
        }
        
        .camera-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .camera-shutter {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: #fff;
            border: 5px solid #ccc;
            cursor: pointer;
        }
        
        /* éŸ³æ¨‚æ’­æ”¾å™¨ */
        .music-player {
            text-align: center;
        }
        
        .music-album-art {
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, #ff9900, #ff3366);
            border-radius: 10px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }
        
        .music-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .music-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }
        
        .music-btn.play {
            width: 60px;
            height: 60px;
            background: var(--color-primary);
            color: #000;
        }
        
        /* ç€è¦½å™¨æ¨£å¼ */
        .browser-url-bar {
            background: #333;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
        }
        
        .browser-content {
            background: #fff;
            color: #000;
            padding: 20px;
            border-radius: 5px;
            min-height: 300px;
        }
        
        /* æ—¥æ›†æ¨£å¼ */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }
        
        .calendar-day {
            text-align: center;
            padding: 10px 5px;
            border-radius: 5px;
            background: rgba(255,255,255,0.1);
        }
        
        .calendar-day.today {
            background: var(--color-primary);
            color: #000;
        }
        
        .calendar-day.weekend {
            color: #ff9900;
        }
        
        /* è¨­å®šæ¨£å¼ */
        .settings-list {
            list-style: none;
        }
        
        .setting-item {
            padding: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--color-primary);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- ä¸»é  -->
        <div class="page active" id="home-page">
            <div class="header">
                <div class="logo">
                    <div class="logo-icon"><i class="fas fa-mobile-alt"></i></div>
                    <div class="logo-text">
                        <h1>æ‡·èˆŠé€šè¨Šè£ç½®æ™‚å…‰æ©Ÿ</h1>
                        <p>é¦™æ¸¯é€šè¨Šæ­·å²å®Œæ•´æ¨¡æ“¬ç³»çµ±</p>
                    </div>
                </div>
            </div>
            
            <div class="timeline-nav">
                <div class="timeline-title">é€šè¨Šè£ç½®ç™¼å±•æ™‚é–“ç·š</div>
                <div class="timeline">
                    <div class="timeline-item" onclick="selectDevice('rotary')">
                        <div class="timeline-year">80s</div><div class="timeline-device"><i class="fas fa-phone"></i></div>
                        <div class="timeline-period">1980-1989</div><div>è½‰ç›¤é›»è©±</div>
                    </div>
                    <div class="timeline-item" onclick="selectDevice('pager')">
                        <div class="timeline-year">90s</div><div class="timeline-device"><i class="fas fa-bell"></i></div>
                        <div class="timeline-period">1990-1994</div><div>BBæ©Ÿ/å‚³å‘¼æ©Ÿ</div>
                    </div>
                    <div class="timeline-item" onclick="selectDevice('brickphone')">
                        <div class="timeline-year">90s</div><div class="timeline-device"><i class="fas fa-phone-square"></i></div>
                        <div class="timeline-period">1995-1998</div><div>å¤§å“¥å¤§</div>
                    </div>
                    <div class="timeline-item" onclick="selectDevice('nokia3310')">
                        <div class="timeline-year">00s</div><div class="timeline-device"><i class="fas fa-mobile-alt"></i></div>
                        <div class="timeline-period">2000-2005</div><div>Nokia 3310</div>
                    </div>
                    <div class="timeline-item" onclick="selectDevice('earlysmartphone')">
                        <div class="timeline-year">00s</div><div class="timeline-device"><i class="fas fa-mobile"></i></div>
                        <div class="timeline-period">2006-2010</div><div>æ—©æœŸæ™ºèƒ½æ‰‹æ©Ÿ</div>
                    </div>
                    <div class="timeline-item" onclick="selectDevice('modernsmartphone')">
                        <div class="timeline-year">25s</div><div class="timeline-device"><i class="fas fa-mobile-alt"></i></div>
                        <div class="timeline-period">2011-2025</div><div>ç¾ä»£æ™ºèƒ½æ‰‹æ©Ÿ</div>
                    </div>
                </div>
            </div>
            
            <div class="main-content">
                <div class="intro">
                    <h2>å›åˆ°éå»ï¼Œé«”é©—ç¶“å…¸</h2>
                    <p>é€™æ˜¯ä¸€å€‹å®Œæ•´çš„æ‡·èˆŠé€šè¨Šè£ç½®æ¨¡æ“¬ç³»çµ±ï¼Œè®“æ‚¨è¦ªèº«é«”é©—80å¹´ä»£è‡³2025å¹´é¦™æ¸¯æœ€ç¶“å…¸çš„é€šè¨Šè¨­å‚™ã€‚</p>
                </div>
                
                <div class="features">
                    <div class="feature-card"><div class="feature-icon"><i class="fas fa-history"></i></div><h3>å®Œæ•´æ­·å²</h3><p>æ¶µè“‹80å¹´ä»£è‡³2025å¹´ï¼Œ6å€‹æ™‚æœŸçš„ç¶“å…¸é€šè¨Šè¨­å‚™</p></div>
                    <div class="feature-card"><div class="feature-icon"><i class="fas fa-gamepad"></i></div><h3>ç¶“å…¸éŠæˆ²</h3><p>é«”é©—è²ªé£Ÿè›‡ã€ä¿„ç¾…æ–¯æ–¹å¡Šç­‰ç¶“å…¸æ‰‹æ©ŸéŠæˆ²</p></div>
                    <div class="feature-card"><div class="feature-icon"><i class="fas fa-phone"></i></div><h3>çœŸå¯¦é€šè©±</h3><p>æ¨¡æ“¬æ’¥è™Ÿã€æ¥è½ã€é€šè©±å…¨éç¨‹ï¼Œé‡ç¾ç•¶å¹´çš„é€šè¨Šé«”é©—</p></div>
                    <div class="feature-card"><div class="feature-icon"><i class="fas fa-music"></i></div><h3>æ‡·èˆŠéŸ³æ•ˆ</h3><p>ç¶“å…¸çš„BBè²ã€é›»è©±éˆ´è²ã€æŒ‰éµéŸ³ï¼Œå¸¶æ‚¨å›åˆ°éå»</p></div>
                </div>
                
                <button class="guide-btn" onclick="showPage('guide-page')"><i class="fas fa-book"></i>æŸ¥çœ‹å®Œæ•´æ“ä½œæŒ‡å—</button>
                <button class="next-page-btn" onclick="showPage('device-page')"><i class="fas fa-th-large"></i>ç€è¦½æ‰€æœ‰è¨­å‚™</button>
            </div>
        </div>
        
        <!-- è¨­å‚™é¸æ“‡é  -->
        <div class="page" id="device-page">
            <div class="nav-buttons">
                <button class="nav-btn" onclick="showPage('home-page')"><i class="fas fa-home"></i>è¿”å›ä¸»é </button>
            </div>
            
            <div class="page-header">
                <h1>é¸æ“‡é€šè¨Šè¨­å‚™</h1>
                <p>è«‹é¸æ“‡æ‚¨æƒ³é«”é©—çš„é€šè¨Šè¨­å‚™ï¼Œæ¯ç¨®è¨­å‚™éƒ½å®Œæ•´æ¨¡æ“¬ç•¶å¹´çš„æ“ä½œä»‹é¢èˆ‡åŠŸèƒ½</p>
            </div>
            
            <div class="device-grid">
                <div class="device-card" onclick="selectDevice('rotary')">
                    <div class="device-era">1980-1989</div><div class="device-icon"><i class="fas fa-phone"></i></div>
                    <h2>è½‰ç›¤å¼é›»è©±</h2><p>80å¹´ä»£é¦™æ¸¯å®¶åº­å’Œè¾¦å…¬å®¤çš„æ¨™æº–é›»è©±</p>
                    <div class="device-features"><ul><li>æ©Ÿæ¢°å¼è½‰ç›¤æ’¥è™Ÿ</li><li>ç¶“å…¸éˆ´è²</li><li>è½ç­’èˆ‡è©±ç­’åˆ†é›¢è¨­è¨ˆ</li><li>é›»è©±ç·šé€£æ¥</li><li>æ¨¡æ“¬çœŸå¯¦æ’¥è™Ÿéç¨‹</li></ul></div>
                </div>
                
                <div class="device-card" onclick="selectDevice('pager')">
                    <div class="device-era">1990-1994</div><div class="device-icon"><i class="fas fa-bell"></i></div>
                    <h2>BBæ©Ÿ/å‚³å‘¼æ©Ÿ</h2><p>90å¹´ä»£åˆæœŸæµè¡Œçš„ç„¡ç·šé€šè¨Šè¨­å‚™</p>
                    <div class="device-features"><ul><li>æ¥æ”¶æ•¸å­—è¨Šæ¯</li><li>ç¶“å…¸BBæç¤ºéŸ³</li><li>æ•¸å­—ä»£ç¢¼é€šè¨Š</li><li>å±å¹•é¡¯ç¤ºå›é›»è™Ÿç¢¼</li><li>æ¨¡æ“¬çœŸå¯¦å‚³å‘¼é«”é©—</li></ul></div>
                </div>
                
                <div class="device-card" onclick="selectDevice('brickphone')">
                    <div class="device-era">1995-1998</div><div class="device-icon"><i class="fas fa-phone-square"></i></div>
                    <h2>å¤§å“¥å¤§</h2><p>90å¹´ä»£ä¸­æœŸçš„æ‰‹æé›»è©±ï¼Œä¿—ç¨±"å¤§å“¥å¤§"</p>
                    <div class="device-features"><ul><li>å¯ä¼¸ç¸®å¤©ç·š</li><li>å–®è‰²æ¶²æ™¶é¡¯ç¤ºå±</li><li>æ•¸å­—éµç›¤</li><li>æ¨¡æ“¬ä¿¡è™Ÿ</li><li>ç¶“å…¸éˆ´è²</li></ul></div>
                </div>
                
                <div class="device-card" onclick="selectDevice('nokia3310')">
                    <div class="device-era">2000-2005</div><div class="device-icon"><i class="fas fa-mobile-alt"></i></div>
                    <h2>Nokia 3310</h2><p>ç¶“å…¸"ä¸æ­»ç¥æ©Ÿ"ï¼Œä»¥è€ç”¨æ€§å’Œè²ªé£Ÿè›‡éŠæˆ²èå</p>
                    <div class="device-features"><ul><li>è²ªé£Ÿè›‡éŠæˆ²</li><li>å¯æ›å¤–æ®¼è¨­è¨ˆ</li><li>SMSçŸ­è¨Šæœå‹™</li><li>ç¶“å…¸è«¾åŸºäºéˆ´è²</li><li>è¶…é•·å¾…æ©Ÿæ™‚é–“</li></ul></div>
                </div>
                
                <div class="device-card" onclick="selectDevice('earlysmartphone')">
                    <div class="device-era">2006-2010</div><div class="device-icon"><i class="fas fa-mobile"></i></div>
                    <h2>æ—©æœŸæ™ºèƒ½æ‰‹æ©Ÿ</h2><p>æ™ºèƒ½æ‰‹æ©Ÿç™¼å±•åˆæœŸï¼Œè§¸æ§å±å¹•é–‹å§‹æ™®åŠ</p>
                    <div class="device-features"><ul><li>é›»é˜»å¼è§¸æ§å±å¹•</li><li>æ—©æœŸæ™ºèƒ½ç³»çµ±</li><li>æ‡‰ç”¨å•†åº—é››å½¢</li><li>å¤šåª’é«”åŠŸèƒ½</li><li>3Gç¶²çµ¡æ”¯æŒ</li></ul></div>
                </div>
                
                <div class="device-card" onclick="selectDevice('modernsmartphone')">
                    <div class="device-era">2011-2025</div><div class="device-icon"><i class="fas fa-mobile-alt"></i></div>
                    <h2>ç¾ä»£æ™ºèƒ½æ‰‹æ©Ÿ</h2><p>ç•¶ä»£æ™ºèƒ½æ‰‹æ©Ÿï¼Œå…¨é¢å±èˆ‡å¤šåŠŸèƒ½æ•´åˆ</p>
                    <div class="device-features"><ul><li>å…¨é¢å±è¨­è¨ˆ</li><li>é¢éƒ¨è­˜åˆ¥è§£é–</li><li>5Gç¶²çµ¡æ”¯æŒ</li><li>å¤šé¡é ­ç›¸æ©Ÿ</li><li>è±å¯Œæ‡‰ç”¨ç”Ÿæ…‹</li></ul></div>
                </div>
            </div>
        </div>
        
        <!-- æ¨¡æ“¬å™¨é  -->
        <div class="page" id="simulator-page">
            <div class="nav-buttons">
                <button class="nav-btn" onclick="showPage('device-page')"><i class="fas fa-arrow-left"></i>è¿”å›è¨­å‚™é¸æ“‡</button>
                <button class="nav-btn" onclick="showPage('home-page')"><i class="fas fa-home"></i>è¿”å›ä¸»é </button>
                <button class="nav-btn" onclick="System.showDeviceInfo()"><i class="fas fa-info-circle"></i>è¨­å‚™ä¿¡æ¯</button>
            </div>
            
            <div class="toolbar">
                <button class="tool-btn" id="sound-toggle" onclick="System.toggleSound()"><i class="fas fa-volume-up"></i></button>
                <button class="tool-btn" id="game-toggle" onclick="System.toggleGame()"><i class="fas fa-gamepad"></i></button>
                <button class="tool-btn" onclick="System.simulateCall()"><i class="fas fa-phone"></i></button>
                <button class="tool-btn" onclick="System.toggleFullscreen()"><i class="fas fa-expand"></i></button>
                <button class="tool-btn" onclick="System.powerOff()"><i class="fas fa-power-off"></i></button>
            </div>
            
            <div class="simulator-container">
                <div class="sidebar">
                    <div class="control-section">
                        <div class="control-title"><i class="fas fa-info-circle"></i>è¨­å‚™ä¿¡æ¯</div>
                        <div style="text-align: center; margin-bottom: 20px;">
                            <div id="device-icon-large" style="font-size: 3rem; color: var(--color-primary);"><i class="fas fa-mobile"></i></div>
                            <h3 id="device-name" style="color: var(--color-text); margin: 10px 0;">Nokia 3310</h3>
                            <p id="device-era" style="color: var(--color-text-secondary);">2000-2005</p>
                            <p id="device-location" style="color: var(--color-text-muted); font-size: 0.9rem;">é¦™æ¸¯ â€¢ å°–æ²™å’€</p>
                        </div>
                        
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span style="color: var(--color-text-muted);">é›»æ± é›»é‡</span>
                                <span style="color: var(--color-success); font-weight: bold;" id="battery-level">92%</span>
                            </div>
                            <div style="height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden;">
                                <div id="battery-bar" style="height: 100%; width: 92%; background: linear-gradient(90deg, var(--color-success), #00ff00);"></div>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                                <span style="color: var(--color-text-muted);">å„²å­˜ç©ºé–“</span>
                                <span style="color: var(--color-secondary); font-weight: bold;">4MB / 8MB</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-section">
                        <div class="control-title"><i class="fas fa-cog"></i>å¿«é€Ÿè¨­ç½®</div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <button class="keypad-btn" onclick="System.adjustVolume(10)"><div><i class="fas fa-volume-up"></i></div><div class="keypad-sub">éŸ³é‡+</div></button>
                            <button class="keypad-btn" onclick="System.adjustVolume(-10)"><div><i class="fas fa-volume-down"></i></div><div class="keypad-sub">éŸ³é‡-</div></button>
                            <button class="keypad-btn" onclick="System.adjustBrightness(10)"><div><i class="fas fa-sun"></i></div><div class="keypad-sub">äº®åº¦+</div></button>
                            <button class="keypad-btn" onclick="System.adjustBrightness(-10)"><div><i class="fas fa-moon"></i></div><div class="keypad-sub">äº®åº¦-</div></button>
                        </div>
                    </div>
                    
                    <div class="control-section">
                        <div class="control-title"><i class="fas fa-history"></i>æ­·å²è¨˜éŒ„</div>
                        <div id="history-list" style="max-height: 200px; overflow-y: auto; font-size: 0.9rem; color: var(--color-text-secondary);">
                            <div>15:30 - é€²å…¥Nokia 3310æ¨¡æ“¬å™¨</div>
                            <div>15:25 - æŸ¥çœ‹é€šè¨ŠéŒ„</div>
                            <div>15:20 - ç©è²ªé£Ÿè›‡éŠæˆ²</div>
                        </div>
                    </div>
                </div>
                
                <div class="main-simulator">
                    <div class="simulator-header">
                        <div class="device-title">
                            <i id="device-icon-header" class="fas fa-mobile"></i>
                            <span id="device-title-text">Nokia 3310 æ¨¡æ“¬å™¨</span>
                        </div>
                        <div class="device-meta">
                            <div class="meta-item"><div class="meta-label">ä¿¡è™Ÿ</div><div class="meta-value" id="signal-strength">â—â—â—â—â—‹</div></div>
                            <div class="meta-item"><div class="meta-label">æ™‚é–“</div><div class="meta-value" id="current-time">15:30</div></div>
                            <div class="meta-item"><div class="meta-label">ç¶²çµ¡</div><div class="meta-value" id="network-type">2G</div></div>
                        </div>
                    </div>
                    
                    <div class="device-display">
                        <!-- æ‡‰ç”¨ç¨‹å¼å…§å®¹å€åŸŸ -->
                        <div id="app-content-area"></div>
                        
                        <!-- ä¸»è¦è¨­å‚™æ¸²æŸ“å€åŸŸ -->
                        <div id="device-render-area"></div>
                        
                        <!-- é€šè©±ç•Œé¢ -->
                        <div class="call-screen" id="call-screen">
                            <div class="caller-info">
                                <div class="caller-name" id="caller-name">é˜¿æ˜</div>
                                <div class="caller-number" id="caller-number">9123 4567</div>
                            </div>
                            <div class="call-timer" id="call-timer">00:00</div>
                            <div class="call-controls">
                                <button class="call-btn call-accept" onclick="System.answerCall()"><i class="fas fa-phone"></i></button>
                                <button class="call-btn call-end" onclick="System.endCall()"><i class="fas fa-phone-slash"></i></button>
                            </div>
                        </div>
                        
                        <!-- éŠæˆ²å€åŸŸ -->
                        <div class="game-container" id="game-container">
                            <div id="snake-game">
                                <div style="padding: 20px; color: #00ffff;">
                                    <div style="text-align: center; font-size: 1.5rem; margin-bottom: 20px;">ğŸ è²ªé£Ÿè›‡éŠæˆ²</div>
                                    <div style="display: flex; justify-content: center; gap: 30px; margin-bottom: 20px;">
                                        <div>åˆ†æ•¸: <span id="snake-score">0</span></div>
                                        <div>æœ€é«˜åˆ†: <span id="snake-high-score">0</span></div>
                                    </div>
                                    <div style="background: #000; border: 2px solid #00ffff; width: 280px; height: 280px; margin: 0 auto; position: relative;">
                                        <canvas id="snake-canvas" width="280" height="280" style="display: block;"></canvas>
                                    </div>
                                    <div style="text-align: center; margin-top: 20px; color: #888;">ä½¿ç”¨æ–¹å‘éµæ§åˆ¶è›‡ç§»å‹• â€¢ æŒ‰ESCè¿”å›</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Nokia 3310 å¤–æ®¼é¸æ“‡å™¨ -->
                    <div class="shell-selector" id="shell-selector" style="display: none;">
                        <div class="shell-option" style="background: #000;" onclick="System.changeShell('black')" title="é»‘è‰²"></div>
                        <div class="shell-option" style="background: #00ccff;" onclick="System.changeShell('blue')" title="è—è‰²"></div>
                        <div class="shell-option" style="background: #ff3366;" onclick="System.changeShell('red')" title="ç´…è‰²"></div>
                        <div class="shell-option" style="background: #33cc33;" onclick="System.changeShell('green')" title="ç¶ è‰²"></div>
                        <div class="shell-option" style="background: #ffcc00;" onclick="System.changeShell('yellow')" title="é»ƒè‰²"></div>
                    </div>
                </div>
                
                <div class="control-panel">
                    <div class="control-section">
                        <div class="control-title"><i class="fas fa-keyboard"></i>é›»è©±éµç›¤</div>
                        <div class="phone-keypad">
                            <button class="keypad-btn" data-key="1"><div>1</div><div class="keypad-sub"></div></button>
                            <button class="keypad-btn" data-key="2"><div>2</div><div class="keypad-sub">ABC</div></button>
                            <button class="keypad-btn" data-key="3"><div>3</div><div class="keypad-sub">DEF</div></button>
                            <button class="keypad-btn" data-key="4"><div>4</div><div class="keypad-sub">GHI</div></button>
                            <button class="keypad-btn" data-key="5"><div>5</div><div class="keypad-sub">JKL</div></button>
                            <button class="keypad-btn" data-key="6"><div>6</div><div class="keypad-sub">MNO</div></button>
                            <button class="keypad-btn" data-key="7"><div>7</div><div class="keypad-sub">PQRS</div></button>
                            <button class="keypad-btn" data-key="8"><div>8</div><div class="keypad-sub">TUV</div></button>
                            <button class="keypad-btn" data-key="9"><div>9</div><div class="keypad-sub">WXYZ</div></button>
                            <button class="keypad-btn" data-key="*"><div>*</div><div class="keypad-sub"></div></button>
                            <button class="keypad-btn" data-key="0"><div>0</div><div class="keypad-sub">+</div></button>
                            <button class="keypad-btn" data-key="#"><div>#</div><div class="keypad-sub"></div></button>
                        </div>
                    </div>
                    
                    <div class="control-section">
                        <div class="control-title"><i class="fas fa-bolt"></i>å¿«é€Ÿæ“ä½œ</div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <button class="keypad-btn" onclick="System.makeCall('999')"><div><i class="fas fa-exclamation-triangle"></i></div><div class="keypad-sub">ç·Šæ€¥å‘¼å«</div></button>
                            <button class="keypad-btn" onclick="System.openApp('messages')"><div><i class="fas fa-paper-plane"></i></div><div class="keypad-sub">ç™¼é€è¨Šæ¯</div></button>
                            <button class="keypad-btn" onclick="System.toggleVibration()"><div><i class="fas fa-vibrate"></i></div><div class="keypad-sub">éœ‡å‹•æ¨¡å¼</div></button>
                            <button class="keypad-btn" onclick="System.toggleBacklight()"><div><i class="fas fa-lightbulb"></i></div><div class="keypad-sub">èƒŒå…‰é–‹é—œ</div></button>
                        </div>
                    </div>
                    
                    <div class="control-section">
                        <div class="control-title"><i class="fas fa-gamepad"></i>éŠæˆ²ä¸­å¿ƒ</div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <button class="keypad-btn" onclick="System.startSnakeGame()"><div>ğŸ</div><div class="keypad-sub">è²ªé£Ÿè›‡</div></button>
                            <button class="keypad-btn" onclick="System.startTetrisGame()"><div>ğŸ§±</div><div class="keypad-sub">ä¿„ç¾…æ–¯æ–¹å¡Š</div></button>
                            <button class="keypad-btn" onclick="System.startSpaceImpact()"><div>ğŸš€</div><div class="keypad-sub">å¤ªç©ºå¤§æˆ°</div></button>
                            <button class="keypad-btn" onclick="System.startBounceGame()"><div>ğŸ€</div><div class="keypad-sub">å½ˆçƒ</div></button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- è¡Œå‹•å°èˆª -->
            <div class="mobile-nav">
                <div class="mobile-nav-buttons">
                    <button class="mobile-nav-btn" onclick="showPage('device-page')"><i class="fas fa-arrow-left"></i>è¿”å›</button>
                    <button class="mobile-nav-btn" onclick="System.simulateCall()"><i class="fas fa-phone"></i>ä¾†é›»</button>
                    <button class="mobile-nav-btn" onclick="System.toggleGame()"><i class="fas fa-gamepad"></i>éŠæˆ²</button>
                    <button class="mobile-nav-btn" onclick="System.toggleSound()"><i class="fas fa-volume-up"></i>éŸ³æ•ˆ</button>
                    <button class="mobile-nav-btn" onclick="showPage('home-page')"><i class="fas fa-home"></i>ä¸»é </button>
                </div>
            </div>
        </div>
        
        <!-- æ“ä½œæŒ‡å—é  -->
        <div class="page" id="guide-page">
            <div class="nav-buttons">
                <button class="nav-btn" onclick="showPage('home-page')"><i class="fas fa-arrow-left"></i>è¿”å›ä¸»é </button>
            </div>
            
            <div class="guide-content">
                <div class="guide-section">
                    <h2><i class="fas fa-book"></i> ç³»çµ±ä½¿ç”¨æŒ‡å—</h2>
                    <p style="color: var(--color-text-secondary); margin-bottom: 20px;">
                        æœ¬ç³»çµ±æä¾›å®Œæ•´çš„æ‡·èˆŠé€šè¨Šè£ç½®æ¨¡æ“¬é«”é©—ï¼Œæ¶µè“‹80å¹´ä»£è‡³2025å¹´çš„6ç¨®ç¶“å…¸è¨­å‚™ï¼š
                    </p>
                    
                    <div class="guide-step">
                        <span class="step-number">1</span>
                        <h3>ç³»çµ±å°èˆª</h3>
                        <p>ä½¿ç”¨ä¸»é çš„æ™‚é–“ç·šæˆ–è¨­å‚™é¸æ“‡é é¢é¸æ“‡æƒ³è¦é«”é©—çš„è¨­å‚™ã€‚ä½¿ç”¨é é¢é ‚éƒ¨çš„å°èˆªæŒ‰éˆ•å¯ä»¥éš¨æ™‚è¿”å›ä¸Šä¸€é æˆ–ä¸»é ã€‚</p>
                    </div>
                    
                    <div class="guide-step">
                        <span class="step-number">2</span>
                        <h3>è¨­å‚™æ“ä½œ</h3>
                        <p>æ¯ç¨®è¨­å‚™éƒ½æœ‰ç¨ç‰¹çš„ç•Œé¢å’Œæ“ä½œæ–¹å¼ï¼š</p>
                        <p>â€¢ <strong>è½‰ç›¤é›»è©±</strong>ï¼šé»æ“Šè½‰ç›¤ä¸Šçš„æ•¸å­—ä¸¦æ—‹è½‰æ’¥è™Ÿ</p>
                        <p>â€¢ <strong>BBæ©Ÿ</strong>ï¼šæ¥æ”¶æ¨¡æ“¬å‚³å‘¼è¨Šæ¯ï¼ŒæŸ¥çœ‹å›é›»è™Ÿç¢¼</p>
                        <p>â€¢ <strong>å¤§å“¥å¤§</strong>ï¼šä½¿ç”¨æ•¸å­—éµç›¤æ’¥è™Ÿï¼Œä¼¸ç¸®å¤©ç·š</p>
                        <p>â€¢ <strong>Nokia 3310</strong>ï¼šç¶“å…¸åŠŸèƒ½æ‰‹æ©Ÿï¼ŒåŒ…å«è²ªé£Ÿè›‡éŠæˆ²</p>
                        <p>â€¢ <strong>æ—©æœŸæ™ºèƒ½æ‰‹æ©Ÿ</strong>ï¼šé›»é˜»å¼è§¸æ§å±å¹•ï¼Œæ—©æœŸæ™ºèƒ½ç³»çµ±</p>
                        <p>â€¢ <strong>ç¾ä»£æ™ºèƒ½æ‰‹æ©Ÿ</strong>ï¼šå…¨é¢å±è¨­è¨ˆï¼Œè±å¯Œæ‡‰ç”¨åŠŸèƒ½</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- é€šçŸ¥å®¹å™¨ -->
    <div class="notification-container" id="notification-container"></div>
    
    <!-- éŸ³æ•ˆ -->
    <audio id="beep-sound" preload="auto"><source src="https://assets.mixkit.co/sfx/preview/mixkit-retro-game-emergency-alarm-1000.mp3" type="audio/mpeg"></audio>
    <audio id="call-sound" preload="auto"><source src="https://assets.mixkit.co/sfx/preview/mixkit-classic-phone-ring-1001.mp3" type="audio/mpeg"></audio>
    <audio id="button-sound" preload="auto"><source src="https://assets.mixkit.co/sfx/preview/mixkit-game-ball-tap-2073.mp3" type="audio/mpeg"></audio>
    <audio id="message-sound" preload="auto"><source src="https://assets.mixkit.co/sfx/preview/mixkit-bubble-pop-up-notification-alert-2357.mp3" type="audio/mpeg"></audio>
    <audio id="nokia-tune" preload="auto"><source src="https://assets.mixkit.co/music/preview/mixkit-tech-house-vibes-130.mp3" type="audio/mpeg"></audio>
    <audio id="rotary-dial-sound" preload="auto"><source src="https://assets.mixkit.co/sfx/preview/mixkit-clock-ticking-close-up-1003.mp3" type="audio/mpeg"></audio>
    <audio id="pager-beep" preload="auto"><source src="https://assets.mixkit.co/sfx/preview/mixkit-retro-arcade-game-notification-211.mp3" type="audio/mpeg"></audio>
    <audio id="camera-sound" preload="auto"><source src="https://assets.mixkit.co/sfx/preview/mixkit-camera-shutter-click-1131.mp3" type="audio/mpeg"></audio>
    
    <script>
        // ç³»çµ±æ ¸å¿ƒ
        const System = {
            currentPage: 'home-page',
            currentDevice: 'nokia3310',
            soundEnabled: true,
            batteryLevel: 92,
            isCalling: false,
            callTimer: 0,
            callInterval: null,
            gameActive: false,
            snakeGame: null,
            dialNumber: '',
            pagerMessages: [],
            snakeHighScore: 0,
            vibrationEnabled: true,
            backlightEnabled: true,
            currentShell: 'black',
            calculatorValue: '0',
            calculatorMemory: 0,
            musicPlaying: false,
            currentApp: null,
            contacts: [
                { name: 'é˜¿æ˜', number: '9123 4567' },
                { name: 'é˜¿å¼·', number: '9123 4568' },
                { name: 'åª½å’ª', number: '9123 4569' },
                { name: 'å…¬å¸', number: '2568 1234' },
                { name: 'è€å‹è¨˜', number: '9123 4570' }
            ],
            messages: [
                { type: 'in', text: 'ä»Šæ™šä¸€é½Šé£Ÿé£¯ï¼Ÿ', time: '14:30', sender: 'é˜¿æ˜' },
                { type: 'out', text: 'å¥½å•Šï¼é‚Šåº¦ç­‰ï¼Ÿ', time: '14:32', sender: 'æˆ‘' },
                { type: 'in', text: 'è€åœ°æ–¹ï¼Œ7é»è¦‹', time: '14:35', sender: 'é˜¿æ˜' }
            ],
            
            // åˆå§‹åŒ–
            init() {
                this.loadFromStorage();
                this.setupEventListeners();
                this.updateTime();
                setInterval(() => this.updateTime(), 60000);
                
                // é›»æ± æ¶ˆè€—
                setInterval(() => {
                    if (this.batteryLevel > 0 && this.currentPage === 'simulator-page') {
                        this.batteryLevel = Math.max(0, this.batteryLevel - 0.1);
                        document.getElementById('battery-level').textContent = Math.round(this.batteryLevel) + '%';
                        document.getElementById('battery-bar').style.width = this.batteryLevel + '%';
                        
                        if (this.batteryLevel < 20) {
                            document.getElementById('battery-level').style.color = '#ff3333';
                        }
                        
                        if (this.batteryLevel === 0) {
                            this.powerOff();
                        }
                    }
                }, 30000);
                
                this.initSnakeGame();
                this.showNotification('ç³»çµ±å·²æº–å‚™å°±ç·’', 'success');
            },
            
            // å„²å­˜/åŠ è¼‰
            loadFromStorage() {
                try {
                    const saved = localStorage.getItem('retroPhoneHighScore');
                    if (saved) this.snakeHighScore = parseInt(saved);
                    document.getElementById('snake-high-score').textContent = this.snakeHighScore;
                } catch(e) {}
            },
            
            saveToStorage() {
                try {
                    localStorage.setItem('retroPhoneHighScore', this.snakeHighScore.toString());
                } catch(e) {}
            },
            
            // äº‹ä»¶ç›£è½
            setupEventListeners() {
                // é›»è©±éµç›¤
                document.querySelectorAll('.keypad-btn[data-key]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const key = e.currentTarget.dataset.key;
                        this.handleKeypad(key);
                    });
                });
                
                // éµç›¤äº‹ä»¶
                document.addEventListener('keydown', (e) => {
                    if (this.currentPage === 'simulator-page') {
                        // æ•¸å­—éµ
                        if (e.key >= '0' && e.key <= '9' && !this.gameActive) {
                            this.handleKeypad(e.key);
                            e.preventDefault();
                        }
                        // æ–¹å‘éµï¼ˆéŠæˆ²ï¼‰
                        else if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
                            if (this.gameActive && this.snakeGame) {
                                this.snakeGame.changeDirection(e.key);
                                e.preventDefault();
                            }
                        }
                        // ESCéµè¿”å›
                        else if (e.key === 'Escape') {
                            if (this.gameActive) {
                                this.toggleGame();
                            } else if (this.isCalling) {
                                this.endCall();
                            } else if (this.currentApp) {
                                this.closeApp();
                            }
                            e.preventDefault();
                        }
                    }
                });
            },
            
            // é¡¯ç¤ºé é¢
            showPage(pageId) {
                document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
                document.getElementById(pageId).classList.add('active');
                this.currentPage = pageId;
                this.closeApp(); // é—œé–‰ä»»ä½•æ‰“é–‹çš„æ‡‰ç”¨ç¨‹å¼
                
                if (this.soundEnabled) this.playSound('button-sound');
                
                if (pageId === 'simulator-page') {
                    this.updateTime();
                    this.renderDevice();
                }
            },
            
            // é¸æ“‡è¨­å‚™
            selectDevice(deviceType) {
                this.currentDevice = deviceType;
                this.dialNumber = '';
                this.isCalling = false;
                clearInterval(this.callInterval);
                this.gameActive = false;
                this.currentApp = null;
                document.getElementById('game-container').classList.remove('active');
                document.getElementById('call-screen').classList.remove('active');
                
                const deviceInfo = {
                    'rotary': { name: 'è½‰ç›¤é›»è©±', era: '1980-1989', icon: 'fa-phone', network: 'å›ºç¶²' },
                    'pager': { name: 'BBæ©Ÿ/å‚³å‘¼æ©Ÿ', era: '1990-1994', icon: 'fa-bell', network: 'ç„¡ç·šå‚³å‘¼' },
                    'brickphone': { name: 'å¤§å“¥å¤§', era: '1995-1998', icon: 'fa-phone-square', network: '1G' },
                    'nokia3310': { name: 'Nokia 3310', era: '2000-2005', icon: 'fa-mobile-alt', network: '2G' },
                    'earlysmartphone': { name: 'æ—©æœŸæ™ºèƒ½æ‰‹æ©Ÿ', era: '2006-2010', icon: 'fa-mobile', network: '3G' },
                    'modernsmartphone': { name: 'ç¾ä»£æ™ºèƒ½æ‰‹æ©Ÿ', era: '2011-2025', icon: 'fa-mobile-alt', network: '5G' }
                };
                
                const info = deviceInfo[deviceType];
                document.getElementById('device-name').textContent = info.name;
                document.getElementById('device-era').textContent = info.era;
                document.getElementById('device-icon-large').innerHTML = `<i class="fas ${info.icon}"></i>`;
                document.getElementById('device-icon-header').className = `fas ${info.icon}`;
                document.getElementById('device-title-text').textContent = `${info.name} æ¨¡æ“¬å™¨`;
                document.getElementById('network-type').textContent = info.network;
                
                // é¡¯ç¤º/éš±è—å¤–æ®¼é¸æ“‡å™¨
                const shellSelector = document.getElementById('shell-selector');
                if (deviceType === 'nokia3310') {
                    shellSelector.style.display = 'flex';
                } else {
                    shellSelector.style.display = 'none';
                }
                
                this.showPage('simulator-page');
                this.showNotification(`å·²åŠ è¼‰${info.name}`, 'success');
                this.addHistory(`é€²å…¥${info.name}æ¨¡æ“¬å™¨`);
            },
            
            // é¡¯ç¤ºè¨­å‚™ä¿¡æ¯
            showDeviceInfo() {
                const deviceInfo = {
                    'rotary': '1980å¹´ä»£é¦™æ¸¯å®¶åº­æ¨™æº–é›»è©±ï¼Œæ¡ç”¨æ©Ÿæ¢°è½‰ç›¤æ’¥è™Ÿï¼Œæ¯å€‹æ•¸å­—éœ€è¦æ—‹è½‰åˆ°æŒ‡å®šä½ç½®ã€‚',
                    'pager': '1990å¹´ä»£åˆæœŸæµè¡Œï¼Œåªèƒ½æ¥æ”¶æ•¸å­—è¨Šæ¯ï¼Œé€šéBBè²æç¤ºç”¨æˆ¶æŸ¥çœ‹è¨Šæ¯ã€‚',
                    'brickphone': '1990å¹´ä»£ä¸­æœŸçš„æ‰‹æé›»è©±ï¼Œé«”ç©é¾å¤§ï¼Œéœ€è¦ä¼¸ç¸®å¤©ç·šæ¥æ”¶ä¿¡è™Ÿã€‚',
                    'nokia3310': '2000å¹´æ¨å‡ºçš„ç¶“å…¸æ‰‹æ©Ÿï¼Œä»¥è€ç”¨æ€§å’Œé•·é›»æ± å£½å‘½èåï¼Œå…¨çƒéŠ·é‡è¶…é1.26å„„éƒ¨ã€‚',
                    'earlysmartphone': '2006-2010å¹´çš„æ—©æœŸæ™ºèƒ½æ‰‹æ©Ÿï¼Œæ¡ç”¨é›»é˜»å¼è§¸æ§å±å¹•ï¼Œéœ€è¦ç”¨åŠ›æŒ‰å£“ã€‚',
                    'modernsmartphone': '2011å¹´å¾Œçš„ç¾ä»£æ™ºèƒ½æ‰‹æ©Ÿï¼Œå…¨é¢å±è¨­è¨ˆï¼Œ5Gç¶²çµ¡ï¼Œè±å¯Œçš„æ‡‰ç”¨ç”Ÿæ…‹ã€‚'
                };
                
                const info = deviceInfo[this.currentDevice];
                this.showNotification(info, 'info');
            },
            
            // æ¸²æŸ“è¨­å‚™
            renderDevice() {
                const container = document.getElementById('device-render-area');
                const appArea = document.getElementById('app-content-area');
                container.innerHTML = '';
                appArea.innerHTML = '';
                appArea.style.display = 'none';
                container.style.display = 'block';
                
                switch(this.currentDevice) {
                    case 'rotary':
                        this.renderRotaryPhone(container);
                        break;
                    case 'pager':
                        this.renderPager(container);
                        break;
                    case 'brickphone':
                        this.renderBrickPhone(container);
                        break;
                    case 'nokia3310':
                        this.renderNokia3310(container);
                        break;
                    case 'earlysmartphone':
                        this.renderEarlySmartphone(container);
                        break;
                    case 'modernsmartphone':
                        this.renderModernSmartphone(container);
                        break;
                }
            },
            
            // è½‰ç›¤é›»è©±
            renderRotaryPhone(container) {
                container.innerHTML = `
                    <div class="device-rotary">
                        <div class="rotary-screen">
                            <div id="rotary-display">${this.dialNumber || 'è«‹æ’¥è™Ÿ'}</div>
                        </div>
                        <div class="rotary-dial" id="rotary-dial"></div>
                        <div style="display: flex; justify-content: center; gap: 20px; margin-top: 20px;">
                            <button style="padding: 10px 20px; background: #444; color: white; border: none; border-radius: 5px; cursor: pointer;" onclick="System.clearDial()">æ¸…é™¤</button>
                            <button style="padding: 10px 20px; background: #006600; color: white; border: none; border-radius: 5px; cursor: pointer;" onclick="System.makeCall(System.dialNumber)">æ’¥è™Ÿ</button>
                        </div>
                    </div>
                `;
                
                const dial = document.getElementById('rotary-dial');
                const numbers = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0'];
                
                numbers.forEach((num, index) => {
                    const angle = (index * 36) * Math.PI / 180;
                    const radius = 70;
                    const x = 100 + radius * Math.cos(angle);
                    const y = 100 + radius * Math.sin(angle);
                    
                    const hole = document.createElement('div');
                    hole.className = 'dial-hole';
                    hole.style.left = `${x - 20}px`;
                    hole.style.top = `${y - 20}px`;
                    hole.textContent = num;
                    hole.onclick = () => this.dialRotaryNumber(num);
                    dial.appendChild(hole);
                });
            },
            
            dialRotaryNumber(num) {
                this.dialNumber += num;
                document.getElementById('rotary-display').textContent = this.dialNumber;
                if (this.soundEnabled) this.playSound('rotary-dial-sound');
                const dial = document.getElementById('rotary-dial');
                dial.classList.add('rotating');
                setTimeout(() => dial.classList.remove('rotating'), 500);
            },
            
            clearDial() {
                this.dialNumber = '';
                document.getElementById('rotary-display').textContent = 'è«‹æ’¥è™Ÿ';
                if (this.soundEnabled) this.playSound('button-sound');
            },
            
            // BBæ©Ÿ
            renderPager(container) {
                container.innerHTML = `
                    <div class="device-pager">
                        <div class="pager-screen">
                            <div style="font-size: 0.9rem; margin-bottom: 10px;">ğŸ“Ÿ BBæ©Ÿ</div>
                            <div id="pager-messages" style="height: 120px; overflow-y: auto; font-size: 0.8rem;">
                                ${this.pagerMessages.length > 0 ? 
                                    this.pagerMessages.map(msg => 
                                        `<div style="margin-bottom: 8px; padding: 5px; background: rgba(0,255,255,0.1); border-radius: 3px;">
                                            <div>${msg.time} - ${msg.from}</div>
                                            <div>${msg.message}</div>
                                            <div style="color: #888; font-size: 0.7rem;">å›é›»: ${msg.callBack}</div>
                                        </div>`
                                    ).join('') : 
                                    '<div style="text-align: center; margin-top: 40px; color: #888;">ç„¡æ–°è¨Šæ¯</div>'
                                }
                            </div>
                        </div>
                        <div class="pager-buttons">
                            <button class="pager-btn" onclick="System.receivePagerMessage()">æ¥æ”¶è¨Šæ¯</button>
                            <button class="pager-btn" onclick="System.clearPagerMessages()">æ¸…é™¤</button>
                            <button class="pager-btn" onclick="System.openPagerMenu()">åŠŸèƒ½</button>
                        </div>
                    </div>
                `;
            },
            
            receivePagerMessage() {
                const messages = [
                    { from: 'å…¬å¸', message: 'è«‹ç«‹å³å›å…¬å¸', callBack: '2568-1234', time: this.getCurrentTime() },
                    { from: 'é˜¿æ˜', message: 'è€åœ°æ–¹è¦‹', callBack: '9123-4567', time: this.getCurrentTime() },
                    { from: 'åª½å’ª', message: 'è²·é¤¸è¿”å±‹ä¼', callBack: '9123-4569', time: this.getCurrentTime() }
                ];
                
                const randomMsg = messages[Math.floor(Math.random() * messages.length)];
                this.pagerMessages.unshift(randomMsg);
                this.renderPager(document.getElementById('device-render-area'));
                
                if (this.soundEnabled) this.playSound('pager-beep');
                if (this.vibrationEnabled) this.vibrate();
                
                this.showNotification(`æ”¶åˆ°ä¾†è‡ª${randomMsg.from}çš„å‚³å‘¼`, 'info');
                this.addHistory(`æ”¶åˆ°å‚³å‘¼è¨Šæ¯: ${randomMsg.from}`);
            },
            
            clearPagerMessages() {
                this.pagerMessages = [];
                this.renderPager(document.getElementById('device-render-area'));
                if (this.soundEnabled) this.playSound('button-sound');
            },
            
            openPagerMenu() {
                this.showNotification('BBæ©ŸåŠŸèƒ½é¸å–®\n1.æŸ¥çœ‹è¨Šæ¯\n2.åˆªé™¤è¨Šæ¯\n3.è²éŸ³è¨­å®š', 'info');
            },
            
            // å¤§å“¥å¤§
            renderBrickPhone(container) {
                container.innerHTML = `
                    <div class="device-brickphone">
                        <div class="brickphone-antenna"></div>
                        <div class="brickphone-screen">
                            <div id="brickphone-display">${this.dialNumber || 'å¤§å“¥å¤§'}</div>
                        </div>
                        <div style="text-align: center; margin-top: 30px;">
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; width: 200px; margin: 0 auto;">
                                ${['1','2','3','4','5','6','7','8','9','*','0','#'].map(key => 
                                    `<button style="width: 50px; height: 50px; background: #555; border: none; border-radius: 5px; color: white; font-size: 1.2rem; cursor: pointer;" onclick="System.handleBrickKeypad('${key}')">${key}</button>`
                                ).join('')}
                            </div>
                            <div style="margin-top: 20px;">
                                <button style="padding: 10px 20px; background: #444; color: white; border: none; border-radius: 5px; cursor: pointer; margin-right: 10px;" onclick="System.clearBrickDial()">æ¸…é™¤</button>
                                <button style="padding: 10px 20px; background: #006600; color: white; border: none; border-radius: 5px; cursor: pointer;" onclick="System.makeCall(System.dialNumber)">æ’¥è™Ÿ</button>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            handleBrickKeypad(key) {
                this.dialNumber += key;
                document.getElementById('brickphone-display').textContent = this.dialNumber;
                if (this.soundEnabled) this.playSound('button-sound');
            },
            
            clearBrickDial() {
                this.dialNumber = '';
                document.getElementById('brickphone-display').textContent = 'å¤§å“¥å¤§';
                if (this.soundEnabled) this.playSound('button-sound');
            },
            
            // Nokia 3310
            renderNokia3310(container) {
                const shellColors = {
                    'black': '#000',
                    'blue': '#00ccff',
                    'red': '#ff3366',
                    'green': '#33cc33',
                    'yellow': '#ffcc00'
                };
                
                const borderColor = shellColors[this.currentShell] || '#333';
                
                container.innerHTML = `
                    <div class="device-nokia3310" style="border-color: ${borderColor};">
                        <div class="nokia-screen" id="nokia-screen">
                            <div id="main-screen">
                                <div style="text-align: center; padding: 20px;">
                                    <div style="font-size: 1.5rem; margin-bottom: 20px; color: #00ffff;">
                                        <i class="fas fa-mobile"></i> Nokia 3310
                                    </div>
                                    <div style="margin: 20px 0;">
                                        <div class="app-icon" onclick="System.openApp('phonebook')">
                                            <i class="fas fa-address-book"></i>
                                            <div class="app-name">é€šè¨ŠéŒ„</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('messages')">
                                            <i class="fas fa-comment-alt"></i>
                                            <div class="app-name">è¨Šæ¯</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('callog')">
                                            <i class="fas fa-history"></i>
                                            <div class="app-name">é€šè©±è¨˜éŒ„</div>
                                        </div>
                                        <div class="app-icon" onclick="System.toggleGame()">
                                            <i class="fas fa-gamepad"></i>
                                            <div class="app-name">éŠæˆ²</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('settings')">
                                            <i class="fas fa-cog"></i>
                                            <div class="app-name">è¨­å®š</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('calculator')">
                                            <i class="fas fa-calculator"></i>
                                            <div class="app-name">è¨ˆç®—æ©Ÿ</div>
                                        </div>
                                    </div>
                                    <div style="color: #888; margin-top: 30px; font-size: 0.9rem;">
                                        ä½¿ç”¨éµç›¤æˆ–å³å´æ§åˆ¶é¢æ¿æ“ä½œ
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // æ›´æ›å¤–æ®¼
            changeShell(color) {
                this.currentShell = color;
                this.renderNokia3310(document.getElementById('device-render-area'));
                
                // æ›´æ–°é¸æ“‡å™¨
                document.querySelectorAll('.shell-option').forEach(option => {
                    option.classList.remove('active');
                });
                document.querySelector(`.shell-option[title="${color}"]`).classList.add('active');
                
                this.showNotification(`å·²æ›´æ›ç‚º${color}è‰²å¤–æ®¼`, 'success');
                if (this.soundEnabled) this.playSound('button-sound');
            },
            
            // æ—©æœŸæ™ºèƒ½æ‰‹æ©Ÿ
            renderEarlySmartphone(container) {
                container.innerHTML = `
                    <div class="device-earlysmartphone">
                        <div class="earlysmartphone-screen">
                            <div class="earlysmartphone-os">
                                <div style="background: #2c3e50; padding: 15px; text-align: center; font-size: 1.2rem;">æ—©æœŸæ™ºèƒ½ç³»çµ±</div>
                                <div style="padding: 20px;">
                                    <div class="app-grid">
                                        <div class="app-icon" onclick="System.openApp('phone')">
                                            <i class="fas fa-phone"></i>
                                            <div class="app-name">é›»è©±</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('messages')">
                                            <i class="fas fa-comment-alt"></i>
                                            <div class="app-name">è¨Šæ¯</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('contacts')">
                                            <i class="fas fa-address-book"></i>
                                            <div class="app-name">è¯çµ¡äºº</div>
                                        </div>
                                        <div class="app-icon" onclick="System.toggleGame()">
                                            <i class="fas fa-gamepad"></i>
                                            <div class="app-name">éŠæˆ²</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('camera')">
                                            <i class="fas fa-camera"></i>
                                            <div class="app-name">ç›¸æ©Ÿ</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('music')">
                                            <i class="fas fa-music"></i>
                                            <div class="app-name">éŸ³æ¨‚</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('browser')">
                                            <i class="fas fa-globe"></i>
                                            <div class="app-name">ç€è¦½å™¨</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('appstore')">
                                            <i class="fas fa-shopping-bag"></i>
                                            <div class="app-name">æ‡‰ç”¨å•†åº—</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('calculator')">
                                            <i class="fas fa-calculator"></i>
                                            <div class="app-name">è¨ˆç®—æ©Ÿ</div>
                                        </div>
                                    </div>
                                    <div style="margin-top: 30px; text-align: center; color: #bdc3c7;">
                                        <div>é›»é˜»å¼è§¸æ§å±å¹•</div>
                                        <div style="font-size: 0.8rem; margin-top: 5px;">é»æ“Šæ‡‰ç”¨ç¨‹å¼åœ–æ¨™å•Ÿå‹•åŠŸèƒ½</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // ç¾ä»£æ™ºèƒ½æ‰‹æ©Ÿ
            renderModernSmartphone(container) {
                container.innerHTML = `
                    <div class="device-modernsmartphone">
                        <div class="modernsmartphone-screen">
                            <div class="modernsmartphone-notch"></div>
                            <div class="modernsmartphone-os">
                                <div style="padding-top: 40px;">
                                    <div class="app-grid" style="grid-template-columns: repeat(4, 1fr);">
                                        <div class="app-icon" onclick="System.openApp('phone')">
                                            <i class="fas fa-phone"></i>
                                            <div class="app-name">é›»è©±</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('messages')">
                                            <i class="fas fa-comment-alt"></i>
                                            <div class="app-name">è¨Šæ¯</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('camera')">
                                            <i class="fas fa-camera"></i>
                                            <div class="app-name">ç›¸æ©Ÿ</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('gallery')">
                                            <i class="fas fa-images"></i>
                                            <div class="app-name">ç›¸ç°¿</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('browser')">
                                            <i class="fas fa-globe"></i>
                                            <div class="app-name">ç€è¦½å™¨</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('maps')">
                                            <i class="fas fa-map-marked-alt"></i>
                                            <div class="app-name">åœ°åœ–</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('music')">
                                            <i class="fas fa-music"></i>
                                            <div class="app-name">éŸ³æ¨‚</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('appstore')">
                                            <i class="fab fa-app-store"></i>
                                            <div class="app-name">App Store</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('playstore')">
                                            <i class="fab fa-google-play"></i>
                                            <div class="app-name">Play Store</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('calendar')">
                                            <i class="fas fa-calendar-alt"></i>
                                            <div class="app-name">æ—¥æ›†</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('clock')">
                                            <i class="fas fa-clock"></i>
                                            <div class="app-name">æ™‚é˜</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('calculator')">
                                            <i class="fas fa-calculator"></i>
                                            <div class="app-name">è¨ˆç®—æ©Ÿ</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('weather')">
                                            <i class="fas fa-cloud-sun"></i>
                                            <div class="app-name">å¤©æ°£</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('notes')">
                                            <i class="fas fa-sticky-note"></i>
                                            <div class="app-name">å‚™å¿˜éŒ„</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('wallet')">
                                            <i class="fas fa-wallet"></i>
                                            <div class="app-name">éŒ¢åŒ…</div>
                                        </div>
                                        <div class="app-icon" onclick="System.openApp('settings')">
                                            <i class="fas fa-cog"></i>
                                            <div class="app-name">è¨­å®š</div>
                                        </div>
                                    </div>
                                    <div style="position: absolute; bottom: 20px; left: 0; right: 0; text-align: center; color: rgba(255,255,255,0.5); font-size: 0.8rem;">
                                        <div>å…¨é¢å± â€¢ é¢éƒ¨è­˜åˆ¥ â€¢ 5Gç¶²çµ¡</div>
                                        <div style="margin-top: 5px;">å‘ä¸Šæ»‘å‹•æŸ¥çœ‹æ›´å¤šæ‡‰ç”¨</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // æ‰“é–‹æ‡‰ç”¨ç¨‹å¼
            openApp(appName) {
                this.currentApp = appName;
                const container = document.getElementById('device-render-area');
                const appArea = document.getElementById('app-content-area');
                
                container.style.display = 'none';
                appArea.style.display = 'block';
                appArea.innerHTML = '';
                
                const appNames = {
                    'phone': 'é›»è©±',
                    'phonebook': 'é€šè¨ŠéŒ„',
                    'messages': 'è¨Šæ¯',
                    'callog': 'é€šè©±è¨˜éŒ„',
                    'settings': 'è¨­å®š',
                    'calculator': 'è¨ˆç®—æ©Ÿ',
                    'contacts': 'è¯çµ¡äºº',
                    'camera': 'ç›¸æ©Ÿ',
                    'music': 'éŸ³æ¨‚',
                    'browser': 'ç€è¦½å™¨',
                    'appstore': 'App Store',
                    'playstore': 'Play Store',
                    'gallery': 'ç›¸ç°¿',
                    'maps': 'åœ°åœ–',
                    'calendar': 'æ—¥æ›†',
                    'clock': 'æ™‚é˜',
                    'weather': 'å¤©æ°£',
                    'notes': 'å‚™å¿˜éŒ„',
                    'wallet': 'éŒ¢åŒ…'
                };
                
                const name = appNames[appName] || 'æ‡‰ç”¨ç¨‹å¼';
                this.showNotification(`æ‰“é–‹${name}`, 'success');
                this.addHistory(`æ‰“é–‹${name}`);
                
                if (this.soundEnabled) this.playSound('button-sound');
                
                // æ¸²æŸ“æ‡‰ç”¨ç¨‹å¼å…§å®¹
                switch(appName) {
                    case 'phone':
                        this.renderPhoneApp(appArea);
                        break;
                    case 'phonebook':
                    case 'contacts':
                        this.renderContactsApp(appArea);
                        break;
                    case 'messages':
                        this.renderMessagesApp(appArea);
                        break;
                    case 'calculator':
                        this.renderCalculatorApp(appArea);
                        break;
                    case 'camera':
                        this.renderCameraApp(appArea);
                        break;
                    case 'music':
                        this.renderMusicApp(appArea);
                        break;
                    case 'browser':
                        this.renderBrowserApp(appArea);
                        break;
                    case 'calendar':
                        this.renderCalendarApp(appArea);
                        break;
                    case 'settings':
                        this.renderSettingsApp(appArea);
                        break;
                    case 'callog':
                        this.renderCallLogApp(appArea);
                        break;
                    default:
                        this.renderGenericApp(appArea, name);
                }
            },
            
            // é—œé–‰æ‡‰ç”¨ç¨‹å¼
            closeApp() {
                this.currentApp = null;
                const container = document.getElementById('device-render-area');
                const appArea = document.getElementById('app-content-area');
                
                container.style.display = 'block';
                appArea.style.display = 'none';
                appArea.innerHTML = '';
            },
            
            // é›»è©±æ‡‰ç”¨ç¨‹å¼
            renderPhoneApp(container) {
                container.innerHTML = `
                    <div class="app-content active">
                        <div class="app-header">
                            <button class="app-back-btn" onclick="System.closeApp()"><i class="fas fa-arrow-left"></i></button>
                            <h3>é›»è©±</h3>
                        </div>
                        
                        <div style="text-align: center; margin-bottom: 30px;">
                            <div style="font-size: 2rem; margin-bottom: 10px;">${this.dialNumber || 'è¼¸å…¥è™Ÿç¢¼'}</div>
                            <div style="color: #aaa; margin-bottom: 20px;">æ’¥è™Ÿæˆ–å¾é€šè¨ŠéŒ„é¸æ“‡</div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 20px;">
                            ${['1','2','3','4','5','6','7','8','9','*','0','#'].map(key => 
                                `<button style="padding: 20px; background: #333; border: none; border-radius: 10px; color: white; font-size: 1.5rem; cursor: pointer;" onclick="System.handleKeypad('${key}')">${key}</button>`
                            ).join('')}
                        </div>
                        
                        <div style="display: flex; gap: 10px; margin-top: 20px;">
                            <button style="flex: 1; padding: 15px; background: #444; border: none; border-radius: 10px; color: white; cursor: pointer;" onclick="System.clearDial()">æ¸…é™¤</button>
                            <button style="flex: 1; padding: 15px; background: #006600; border: none; border-radius: 10px; color: white; cursor: pointer;" onclick="System.makeCall(System.dialNumber)">æ’¥è™Ÿ</button>
                        </div>
                        
                        <div style="margin-top: 30px;">
                            <h4>æœ€è¿‘è¯çµ¡äºº</h4>
                            <div class="contact-list">
                                ${this.contacts.slice(0, 3).map(contact => `
                                    <div class="contact-item" onclick="System.makeCall('${contact.number.replace(/\s/g, '')}')">
                                        <div class="contact-name">${contact.name}</div>
                                        <div class="contact-number">${contact.number}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // é€šè¨ŠéŒ„æ‡‰ç”¨ç¨‹å¼
            renderContactsApp(container) {
                container.innerHTML = `
                    <div class="app-content active">
                        <div class="app-header">
                            <button class="app-back-btn" onclick="System.closeApp()"><i class="fas fa-arrow-left"></i></button>
                            <h3>é€šè¨ŠéŒ„</h3>
                            <button style="margin-left: auto; background: none; border: none; color: var(--color-primary);" onclick="System.addNewContact()"><i class="fas fa-plus"></i></button>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <input type="text" placeholder="æœå°‹è¯çµ¡äºº..." style="width: 100%; padding: 10px; background: #333; border: 1px solid #444; border-radius: 5px; color: white;">
                        </div>
                        
                        <div class="contact-list">
                            ${this.contacts.map(contact => `
                                <div class="contact-item" onclick="System.viewContact('${contact.name}')">
                                    <div class="contact-name">${contact.name}</div>
                                    <div class="contact-number">${contact.number}</div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div style="text-align: center; margin-top: 20px; color: #aaa; font-size: 0.9rem;">
                            å…± ${this.contacts.length} ä½è¯çµ¡äºº
                        </div>
                    </div>
                `;
            },
            
            viewContact(name) {
                const contact = this.contacts.find(c => c.name === name);
                if (contact) {
                    this.showNotification(`${contact.name}: ${contact.number}\né»æ“Šæ’¥è™Ÿ`, 'info');
                    setTimeout(() => {
                        this.makeCall(contact.number.replace(/\s/g, ''));
                    }, 1000);
                }
            },
            
            addNewContact() {
                this.showNotification('æ–°å¢è¯çµ¡äººåŠŸèƒ½é–‹ç™¼ä¸­', 'info');
            },
            
            // è¨Šæ¯æ‡‰ç”¨ç¨‹å¼
            renderMessagesApp(container) {
                container.innerHTML = `
                    <div class="app-content active">
                        <div class="app-header">
                            <button class="app-back-btn" onclick="System.closeApp()"><i class="fas fa-arrow-left"></i></button>
                            <h3>è¨Šæ¯</h3>
                            <button style="margin-left: auto; background: none; border: none; color: var(--color-primary);" onclick="System.composeMessage()"><i class="fas fa-pen"></i></button>
                        </div>
                        
                        <div class="message-list">
                            ${this.messages.map(msg => `
                                <div class="message-bubble ${msg.type === 'in' ? 'message-in' : 'message-out'}">
                                    <div>${msg.text}</div>
                                    <div class="message-time">${msg.time} ${msg.type === 'in' ? `- ${msg.sender}` : ''}</div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div style="margin-top: 20px; display: flex; gap: 10px;">
                            <input type="text" placeholder="è¼¸å…¥è¨Šæ¯..." style="flex: 1; padding: 10px; background: #333; border: 1px solid #444; border-radius: 5px; color: white;" id="message-input">
                            <button style="padding: 10px 20px; background: var(--color-primary); border: none; border-radius: 5px; color: #000; cursor: pointer;" onclick="System.sendMessage()">ç™¼é€</button>
                        </div>
                    </div>
                `;
            },
            
            sendMessage() {
                const input = document.getElementById('message-input');
                const text = input.value.trim();
                if (text) {
                    this.messages.push({
                        type: 'out',
                        text: text,
                        time: this.getCurrentTime(),
                        sender: 'æˆ‘'
                    });
                    this.renderMessagesApp(document.getElementById('app-content-area'));
                    input.value = '';
                    this.showNotification('è¨Šæ¯å·²ç™¼é€', 'success');
                    if (this.soundEnabled) this.playSound('message-sound');
                    
                    // æ¨¡æ“¬å›è¦†
                    setTimeout(() => {
                        const replies = ['æ”¶åˆ°ï¼', 'OK', 'ğŸ‘Œ', 'å¥½å˜…', 'å†‡å•é¡Œ'];
                        const randomReply = replies[Math.floor(Math.random() * replies.length)];
                        this.messages.push({
                            type: 'in',
                            text: randomReply,
                            time: this.getCurrentTime(),
                            sender: 'é˜¿æ˜'
                        });
                        this.renderMessagesApp(document.getElementById('app-content-area'));
                        if (this.soundEnabled) this.playSound('message-sound');
                    }, 1000);
                }
            },
            
            composeMessage() {
                this.showNotification('æ’°å¯«æ–°è¨Šæ¯', 'info');
                document.getElementById('message-input')?.focus();
            },
            
            // è¨ˆç®—æ©Ÿæ‡‰ç”¨ç¨‹å¼
            renderCalculatorApp(container) {
                container.innerHTML = `
                    <div class="app-content active">
                        <div class="app-header">
                            <button class="app-back-btn" onclick="System.closeApp()"><i class="fas fa-arrow-left"></i></button>
                            <h3>è¨ˆç®—æ©Ÿ</h3>
                        </div>
                        
                        <div class="calculator-display" id="calc-display">${this.calculatorValue}</div>
                        
                        <div class="calculator-buttons">
                            <button class="calc-btn" onclick="System.calculatorInput('C')">C</button>
                            <button class="calc-btn" onclick="System.calculatorInput('Â±')">Â±</button>
                            <button class="calc-btn" onclick="System.calculatorInput('%')">%</button>
                            <button class="calc-btn operator" onclick="System.calculatorInput('/')">Ã·</button>
                            
                            <button class="calc-btn" onclick="System.calculatorInput('7')">7</button>
                            <button class="calc-btn" onclick="System.calculatorInput('8')">8</button>
                            <button class="calc-btn" onclick="System.calculatorInput('9')">9</button>
                            <button class="calc-btn operator" onclick="System.calculatorInput('*')">Ã—</button>
                            
                            <button class="calc-btn" onclick="System.calculatorInput('4')">4</button>
                            <button class="calc-btn" onclick="System.calculatorInput('5')">5</button>
                            <button class="calc-btn" onclick="System.calculatorInput('6')">6</button>
                            <button class="calc-btn operator" onclick="System.calculatorInput('-')">-</button>
                            
                            <button class="calc-btn" onclick="System.calculatorInput('1')">1</button>
                            <button class="calc-btn" onclick="System.calculatorInput('2')">2</button>
                            <button class="calc-btn" onclick="System.calculatorInput('3')">3</button>
                            <button class="calc-btn operator" onclick="System.calculatorInput('+')">+</button>
                            
                            <button class="calc-btn" onclick="System.calculatorInput('0')" style="grid-column: span 2;">0</button>
                            <button class="calc-btn" onclick="System.calculatorInput('.')">.</button>
                            <button class="calc-btn equals" onclick="System.calculatorInput('=')">=</button>
                        </div>
                    </div>
                `;
            },
            
            calculatorInput(key) {
                if (this.soundEnabled) this.playSound('button-sound');
                
                if (key === 'C') {
                    this.calculatorValue = '0';
                } else if (key === '=') {
                    try {
                        this.calculatorValue = eval(this.calculatorValue.replace('Ã—', '*').replace('Ã·', '/')).toString();
                    } catch {
                        this.calculatorValue = 'Error';
                    }
                } else if (key === 'Â±') {
                    this.calculatorValue = (parseFloat(this.calculatorValue) * -1).toString();
                } else if (key === '%') {
                    this.calculatorValue = (parseFloat(this.calculatorValue) / 100).toString();
                } else {
                    if (this.calculatorValue === '0' || this.calculatorValue === 'Error') {
                        this.calculatorValue = key;
                    } else {
                        this.calculatorValue += key;
                    }
                }
                
                document.getElementById('calc-display').textContent = this.calculatorValue;
            },
            
            // ç›¸æ©Ÿæ‡‰ç”¨ç¨‹å¼
            renderCameraApp(container) {
                container.innerHTML = `
                    <div class="app-content active">
                        <div class="app-header">
                            <button class="app-back-btn" onclick="System.closeApp()"><i class="fas fa-arrow-left"></i></button>
                            <h3>ç›¸æ©Ÿ</h3>
                            <button style="margin-left: auto; background: none; border: none; color: white;" onclick="System.switchCamera()"><i class="fas fa-sync-alt"></i></button>
                        </div>
                        
                        <div class="camera-viewfinder"></div>
                        
                        <div style="text-align: center; color: #aaa; margin-bottom: 20px;">
                            é»æ“Šä¸‹æ–¹å¿«é–€æŒ‰éˆ•æ‹ç…§
                        </div>
                        
                        <div class="camera-controls">
                            <button style="background: none; border: none; color: white; font-size: 1.5rem;" onclick="System.openGallery()"><i class="fas fa-images"></i></button>
                            <div class="camera-shutter" onclick="System.takePhoto()"></div>
                            <button style="background: none; border: none; color: white; font-size: 1.5rem;" onclick="System.toggleFlash()"><i class="fas fa-bolt"></i></button>
                        </div>
                        
                        <div style="display: flex; justify-content: center; gap: 20px; margin-top: 20px;">
                            <button style="padding: 5px 15px; background: #333; border: none; border-radius: 15px; color: white;">ç…§ç‰‡</button>
                            <button style="padding: 5px 15px; background: #333; border: none; border-radius: 15px; color: white;">å½±ç‰‡</button>
                            <button style="padding: 5px 15px; background: #333; border: none; border-radius: 15px; color: white;">äººåƒ</button>
                        </div>
                    </div>
                `;
            },
            
            takePhoto() {
                if (this.soundEnabled) this.playSound('camera-sound');
                this.showNotification('æ‹ç…§æˆåŠŸï¼ç…§ç‰‡å·²å„²å­˜åˆ°ç›¸ç°¿', 'success');
                this.addHistory('æ‹æ”ç…§ç‰‡');
            },
            
            switchCamera() {
                this.showNotification('åˆ‡æ›åˆ°å‰é¡é ­', 'info');
            },
            
            toggleFlash() {
                this.showNotification('é–ƒå…‰ç‡ˆå·²åˆ‡æ›', 'info');
            },
            
            openGallery() {
                this.openApp('gallery');
            },
            
            // éŸ³æ¨‚æ’­æ”¾å™¨æ‡‰ç”¨ç¨‹å¼
            renderMusicApp(container) {
                container.innerHTML = `
                    <div class="app-content active">
                        <div class="app-header">
                            <button class="app-back-btn" onclick="System.closeApp()"><i class="fas fa-arrow-left"></i></button>
                            <h3>éŸ³æ¨‚</h3>
                        </div>
                        
                        <div class="music-player">
                            <div class="music-album-art">
                                <i class="fas fa-music"></i>
                            </div>
                            
                            <div style="text-align: center; margin: 20px 0;">
                                <div style="font-size: 1.2rem; margin-bottom: 5px;">ç¶“å…¸è€æ­Œç²¾é¸</div>
                                <div style="color: #aaa; font-size: 0.9rem;">é¦™æ¸¯æ‡·èˆŠé‡‘æ›²</div>
                            </div>
                            
                            <div style="margin: 20px 0;">
                                <div style="height: 3px; background: #333; border-radius: 1.5px; margin-bottom: 5px;">
                                    <div style="width: 30%; height: 100%; background: var(--color-primary); border-radius: 1.5px;"></div>
                                </div>
                                <div style="display: flex; justify-content: space-between; font-size: 0.8rem; color: #aaa;">
                                    <span>1:23</span>
                                    <span>4:56</span>
                                </div>
                            </div>
                            
                            <div class="music-controls">
                                <button class="music-btn" onclick="System.previousTrack()"><i class="fas fa-step-backward"></i></button>
                                <button class="music-btn play" onclick="System.toggleMusic()">
                                    <i class="fas ${this.musicPlaying ? 'fa-pause' : 'fa-play'}"></i>
                                </button>
                                <button class="music-btn" onclick="System.nextTrack()"><i class="fas fa-step-forward"></i></button>
                            </div>
                            
                            <div style="margin-top: 30px; color: #aaa; font-size: 0.9rem;">
                                æ­£åœ¨æ’­æ”¾: æµ·é—Šå¤©ç©º - Beyond
                            </div>
                        </div>
                    </div>
                `;
            },
            
            toggleMusic() {
                this.musicPlaying = !this.musicPlaying;
                if (this.musicPlaying) {
                    if (this.soundEnabled) this.playSound('nokia-tune');
                    this.showNotification('éŸ³æ¨‚æ’­æ”¾ä¸­', 'success');
                } else {
                    this.stopSound('nokia-tune');
                    this.showNotification('éŸ³æ¨‚å·²æš«åœ', 'info');
                }
                this.renderMusicApp(document.getElementById('app-content-area'));
            },
            
            previousTrack() {
                this.showNotification('ä¸Šä¸€é¦–', 'info');
            },
            
            nextTrack() {
                this.showNotification('ä¸‹ä¸€é¦–', 'info');
            },
            
            // ç€è¦½å™¨æ‡‰ç”¨ç¨‹å¼
            renderBrowserApp(container) {
                container.innerHTML = `
                    <div class="app-content active">
                        <div class="app-header">
                            <button class="app-back-btn" onclick="System.closeApp()"><i class="fas fa-arrow-left"></i></button>
                            <h3>ç€è¦½å™¨</h3>
                        </div>
                        
                        <div class="browser-url-bar">
                            <button style="background: none; border: none; color: white;"><i class="fas fa-arrow-left"></i></button>
                            <input type="text" value="https://retro.hk" style="flex: 1; background: #222; border: none; border-radius: 5px; color: white; padding: 5px 10px;">
                            <button style="background: none; border: none; color: white;"><i class="fas fa-redo"></i></button>
                        </div>
                        
                        <div class="browser-content">
                            <h3>æ‡·èˆŠé€šè¨Šåšç‰©é¤¨</h3>
                            <p>æ­¡è¿ä¾†åˆ°é¦™æ¸¯é€šè¨Šæ­·å²è™›æ“¬åšç‰©é¤¨ï¼</p>
                            <p>é€™è£¡å±•ç¤º80å¹´ä»£è‡³ç¾ä»£çš„ç¶“å…¸é€šè¨Šè¨­å‚™ã€‚</p>
                            <ul>
                                <li>1980s: è½‰ç›¤é›»è©±</li>
                                <li>1990s: BBæ©Ÿã€å¤§å“¥å¤§</li>
                                <li>2000s: Nokia 3310</li>
                                <li>2010s+: æ™ºèƒ½æ‰‹æ©Ÿ</li>
                            </ul>
                            <p>é»æ“Šä¸‹æ–¹é€£çµäº†è§£æ›´å¤šï¼š</p>
                            <button style="margin: 5px; padding: 8px 15px; background: #0066cc; border: none; border-radius: 5px; color: white; cursor: pointer;" onclick="System.browseLink('history')">æ­·å²æ™‚é–“ç·š</button>
                            <button style="margin: 5px; padding: 8px 15px; background: #0066cc; border: none; border-radius: 5px; color: white; cursor: pointer;" onclick="System.browseLink('gallery')">è¨­å‚™åœ–åº«</button>
                        </div>
                    </div>
                `;
            },
            
            browseLink(link) {
                this.showNotification('æ­£åœ¨è¼‰å…¥é é¢...', 'info');
                setTimeout(() => {
                    this.showNotification('é é¢è¼‰å…¥å®Œæˆ', 'success');
                }, 1000);
            },
            
            // æ—¥æ›†æ‡‰ç”¨ç¨‹å¼
            renderCalendarApp(container) {
                const now = new Date();
                const year = now.getFullYear();
                const month = now.getMonth();
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                const firstDay = new Date(year, month, 1).getDay();
                
                let calendarHTML = '<div class="calendar-grid">';
                
                // æ˜ŸæœŸæ¨™é¡Œ
                const weekdays = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
                weekdays.forEach(day => {
                    calendarHTML += `<div class="calendar-day" style="font-weight: bold; background: rgba(255,255,255,0.2);">${day}</div>`;
                });
                
                // ç©ºç™½æ ¼
                for (let i = 0; i < firstDay; i++) {
                    calendarHTML += '<div class="calendar-day"></div>';
                }
                
                // æ—¥æœŸ
                for (let day = 1; day <= daysInMonth; day++) {
                    const isToday = day === now.getDate();
                    const isWeekend = (firstDay + day - 1) % 7 < 2;
                    calendarHTML += `<div class="calendar-day ${isToday ? 'today' : ''} ${isWeekend ? 'weekend' : ''}">${day}</div>`;
                }
                
                calendarHTML += '</div>';
                
                container.innerHTML = `
                    <div class="app-content active">
                        <div class="app-header">
                            <button class="app-back-btn" onclick="System.closeApp()"><i class="fas fa-arrow-left"></i></button>
                            <h3>æ—¥æ›†</h3>
                            <div style="margin-left: auto; display: flex; gap: 10px;">
                                <button style="background: none; border: none; color: white;"><i class="fas fa-chevron-left"></i></button>
                                <span>${year}å¹´${month + 1}æœˆ</span>
                                <button style="background: none; border: none; color: white;"><i class="fas fa-chevron-right"></i></button>
                            </div>
                        </div>
                        
                        ${calendarHTML}
                        
                        <div style="margin-top: 20px; padding: 15px; background: rgba(255,153,0,0.1); border-radius: 10px;">
                            <div style="font-weight: bold; margin-bottom: 5px;">ä»Šå¤©</div>
                            <div>${year}å¹´${month + 1}æœˆ${now.getDate()}æ—¥ æ˜ŸæœŸ${weekdays[now.getDay()]}</div>
                            <div style="margin-top: 10px; color: #aaa; font-size: 0.9rem;">æ²’æœ‰å®‰æ’æ´»å‹•</div>
                        </div>
                    </div>
                `;
            },
            
            // è¨­å®šæ‡‰ç”¨ç¨‹å¼
            renderSettingsApp(container) {
                container.innerHTML = `
                    <div class="app-content active">
                        <div class="app-header">
                            <button class="app-back-btn" onclick="System.closeApp()"><i class="fas fa-arrow-left"></i></button>
                            <h3>è¨­å®š</h3>
                        </div>
                        
                        <ul class="settings-list">
                            <li class="setting-item">
                                <div>
                                    <div style="font-weight: bold;">Wi-Fi</div>
                                    <div style="font-size: 0.9rem; color: #aaa;">å·²é€£æ¥ - RetroNetwork</div>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </li>
                            <li class="setting-item">
                                <div>
                                    <div style="font-weight: bold;">è—ç‰™</div>
                                    <div style="font-size: 0.9rem; color: #aaa;">å·²é—œé–‰</div>
                                </div>
                                <label class="switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </li>
                            <li class="setting-item">
                                <div>
                                    <div style="font-weight: bold;">é£›è¡Œæ¨¡å¼</div>
                                    <div style="font-size: 0.9rem; color: #aaa;">é—œé–‰æ‰€æœ‰ç„¡ç·šé€šè¨Š</div>
                                </div>
                                <label class="switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </li>
                            <li class="setting-item" onclick="System.openSetting('sound')">
                                <div>
                                    <div style="font-weight: bold;">è²éŸ³èˆ‡è§¸æ„Ÿ</div>
                                    <div style="font-size: 0.9rem; color: #aaa;">éˆ´è²ã€æç¤ºéŸ³ã€éœ‡å‹•</div>
                                </div>
                                <i class="fas fa-chevron-right" style="color: #aaa;"></i>
                            </li>
                            <li class="setting-item" onclick="System.openSetting('display')">
                                <div>
                                    <div style="font-weight: bold;">é¡¯ç¤ºèˆ‡äº®åº¦</div>
                                    <div style="font-size: 0.9rem; color: #aaa;">äº®åº¦ã€æ–‡å­—å¤§å°</div>
                                </div>
                                <i class="fas fa-chevron-right" style="color: #aaa;"></i>
                            </li>
                            <li class="setting-item" onclick="System.openSetting('battery')">
                                <div>
                                    <div style="font-weight: bold;">é›»æ± </div>
                                    <div style="font-size: 0.9rem; color: #aaa;">${this.batteryLevel}%</div>
                                </div>
                                <i class="fas fa-chevron-right" style="color: #aaa;"></i>
                            </li>
                            <li class="setting-item" onclick="System.openSetting('storage')">
                                <div>
                                    <div style="font-weight: bold;">å„²å­˜ç©ºé–“</div>
                                    <div style="font-size: 0.9rem; color: #aaa;">4MB / 8MB å·²ä½¿ç”¨</div>
                                </div>
                                <i class="fas fa-chevron-right" style="color: #aaa;"></i>
                            </li>
                        </ul>
                    </div>
                `;
            },
            
            openSetting(setting) {
                this.showNotification(`æ‰“é–‹${setting}è¨­å®š`, 'info');
            },
            
            // é€šè©±è¨˜éŒ„æ‡‰ç”¨ç¨‹å¼
            renderCallLogApp(container) {
                container.innerHTML = `
                    <div class="app-content active">
                        <div class="app-header">
                            <button class="app-back-btn" onclick="System.closeApp()"><i class="fas fa-arrow-left"></i></button>
                            <h3>é€šè©±è¨˜éŒ„</h3>
                        </div>
                        
                        <div class="contact-list">
                            <div class="contact-item" onclick="System.makeCall('91234567')">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <div style="color: #00cc00;"><i class="fas fa-phone"></i></div>
                                    <div>
                                        <div class="contact-name">é˜¿æ˜</div>
                                        <div class="contact-number">9123 4567 â€¢ ä»Šå¤© 15:20</div>
                                    </div>
                                </div>
                            </div>
                            <div class="contact-item" onclick="System.makeCall('91234568')">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <div style="color: #ff3333;"><i class="fas fa-phone-slash"></i></div>
                                    <div>
                                        <div class="contact-name">é˜¿å¼·</div>
                                        <div class="contact-number">9123 4568 â€¢ æ˜¨å¤© 10:15</div>
                                    </div>
                                </div>
                            </div>
                            <div class="contact-item" onclick="System.makeCall('25681234')">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <div style="color: #00cc00;"><i class="fas fa-phone"></i></div>
                                    <div>
                                        <div class="contact-name">å…¬å¸</div>
                                        <div class="contact-number">2568 1234 â€¢ æ˜¨å¤© 09:30</div>
                                    </div>
                                </div>
                            </div>
                            <div class="contact-item" onclick="System.makeCall('91234569')">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <div style="color: #ff9900;"><i class="fas fa-phone"></i></div>
                                    <div>
                                        <div class="contact-name">åª½å’ª</div>
                                        <div class="contact-number">9123 4569 â€¢ å‰å¤© 18:45</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // é€šç”¨æ‡‰ç”¨ç¨‹å¼
            renderGenericApp(container, appName) {
                container.innerHTML = `
                    <div class="app-content active">
                        <div class="app-header">
                            <button class="app-back-btn" onclick="System.closeApp()"><i class="fas fa-arrow-left"></i></button>
                            <h3>${appName}</h3>
                        </div>
                        
                        <div style="text-align: center; margin-top: 50px;">
                            <div style="font-size: 4rem; margin-bottom: 20px;">
                                <i class="fas fa-mobile"></i>
                            </div>
                            <div style="font-size: 1.2rem; margin-bottom: 10px;">${appName}</div>
                            <div style="color: #aaa; margin-bottom: 30px;">åŠŸèƒ½é–‹ç™¼ä¸­</div>
                            <button style="padding: 10px 30px; background: var(--color-primary); border: none; border-radius: 20px; color: #000; font-weight: bold; cursor: pointer;" onclick="System.closeApp()">ç¢ºå®š</button>
                        </div>
                    </div>
                `;
            },
            
            // éµç›¤è™•ç†
            handleKeypad(key) {
                if (this.currentPage !== 'simulator-page' || this.gameActive) return;
                
                if (this.soundEnabled) this.playSound('button-sound');
                if (this.vibrationEnabled) this.vibrate();
                
                if (key === '#') {
                    this.makeCall(this.dialNumber || '1234567');
                } else if (key === '*') {
                    this.showNotification('ç‰¹æ®ŠåŠŸèƒ½éµ', 'info');
                } else {
                    this.dialNumber += key;
                    this.showNotification(`è¼¸å…¥: ${this.dialNumber}`, 'info');
                }
            },
            
            // æ’¥æ‰“é›»è©±
            makeCall(number) {
                if (this.isCalling || !number.trim()) return;
                
                this.isCalling = true;
                this.callTimer = 0;
                
                const callScreen = document.getElementById('call-screen');
                callScreen.classList.add('active');
                
                document.getElementById('caller-number').textContent = number;
                
                const contacts = {
                    '91234567': 'é˜¿æ˜',
                    '91234568': 'é˜¿å¼·',
                    '91234569': 'åª½å’ª',
                    '25681234': 'å…¬å¸',
                    '999': 'ç·Šæ€¥æœå‹™'
                };
                
                const name = contacts[number] || 'æœªçŸ¥è™Ÿç¢¼';
                document.getElementById('caller-name').textContent = name;
                
                if (this.soundEnabled) this.playSound('call-sound');
                document.getElementById('call-timer').textContent = 'å‘¼å«ä¸­...';
                
                setTimeout(() => {
                    if (this.isCalling) this.answerCall();
                }, 3000);
                
                this.addHistory(`æ’¥æ‰“é›»è©±: ${name} (${number})`);
            },
            
            // æ¨¡æ“¬ä¾†é›»
            simulateCall() {
                if (this.isCalling) return;
                
                const contacts = [
                    { name: 'é˜¿æ˜', number: '9123 4567' },
                    { name: 'é˜¿å¼·', number: '9123 4568' },
                    { name: 'åª½å’ª', number: '9123 4569' }
                ];
                
                const contact = contacts[Math.floor(Math.random() * contacts.length)];
                this.isCalling = true;
                
                const callScreen = document.getElementById('call-screen');
                callScreen.classList.add('active');
                
                document.getElementById('caller-name').textContent = contact.name;
                document.getElementById('caller-number').textContent = contact.number;
                document.getElementById('call-timer').textContent = 'ä¾†é›»ä¸­...';
                
                if (this.soundEnabled) this.playSound('call-sound');
                if (this.vibrationEnabled) this.vibrate();
                
                setTimeout(() => {
                    if (this.isCalling) {
                        this.endCall();
                        this.showNotification(`${contact.name}: æœªæ¥ä¾†é›»`, 'warning');
                    }
                }, 30000);
                
                this.addHistory(`ä¾†é›»: ${contact.name}`);
            },
            
            // æ¥è½é›»è©±
            answerCall() {
                this.stopSound('call-sound');
                this.callTimer = 0;
                clearInterval(this.callInterval);
                
                this.callInterval = setInterval(() => {
                    this.callTimer++;
                    const minutes = Math.floor(this.callTimer / 60).toString().padStart(2, '0');
                    const seconds = (this.callTimer % 60).toString().padStart(2, '0');
                    document.getElementById('call-timer').textContent = `${minutes}:${seconds}`;
                }, 1000);
                
                this.showNotification('é€šè©±å·²æ¥é€š', 'success');
                this.addHistory('æ¥è½é›»è©±');
            },
            
            // çµæŸé€šè©±
            endCall() {
                this.isCalling = false;
                clearInterval(this.callInterval);
                document.getElementById('call-screen').classList.remove('active');
                this.stopSound('call-sound');
                
                if (this.callTimer > 0) {
                    this.showNotification(`é€šè©±çµæŸï¼Œæ™‚é•·: ${this.callTimer}ç§’`, 'info');
                    this.addHistory(`é€šè©±çµæŸï¼Œæ™‚é•·: ${this.callTimer}ç§’`);
                }
                
                this.dialNumber = '';
            },
            
            // è²ªé£Ÿè›‡éŠæˆ²
            initSnakeGame() {
                const canvas = document.getElementById('snake-canvas');
                if (!canvas) return;
                
                const ctx = canvas.getContext('2d');
                
                this.snakeGame = {
                    canvas: canvas, ctx: ctx, gridSize: 20,
                    snake: [{x: 7, y: 7}], food: {x: 10, y: 10},
                    direction: 'right', nextDirection: 'right',
                    score: 0, speed: 150, gameLoop: null, isPaused: true,
                    
                    start() {
                        this.isPaused = false;
                        this.snake = [{x: 7, y: 7}];
                        this.food = this.generateFood();
                        this.direction = 'right';
                        this.nextDirection = 'right';
                        this.score = 0;
                        this.updateScore();
                        
                        if (this.gameLoop) clearInterval(this.gameLoop);
                        this.gameLoop = setInterval(() => this.update(), this.speed);
                        this.draw();
                    },
                    
                    pause() {
                        this.isPaused = true;
                        if (this.gameLoop) {
                            clearInterval(this.gameLoop);
                            this.gameLoop = null;
                        }
                    },
                    
                    update() {
                        if (this.isPaused) return;
                        this.direction = this.nextDirection;
                        
                        const head = {...this.snake[0]};
                        switch(this.direction) {
                            case 'up': head.y--; break;
                            case 'down': head.y++; break;
                            case 'left': head.x--; break;
                            case 'right': head.x++; break;
                        }
                        
                        // ç¢°æ’æª¢æ¸¬
                        if (head.x < 0 || head.x >= this.canvas.width / this.gridSize ||
                            head.y < 0 || head.y >= this.canvas.height / this.gridSize) {
                            this.gameOver(); return;
                        }
                        
                        if (this.snake.some(segment => segment.x === head.x && segment.y === head.y)) {
                            this.gameOver(); return;
                        }
                        
                        this.snake.unshift(head);
                        
                        // åƒé£Ÿç‰©
                        if (head.x === this.food.x && head.y === this.food.y) {
                            this.score++;
                            this.updateScore();
                            this.food = this.generateFood();
                            
                            if (this.score % 5 === 0) {
                                this.speed = Math.max(50, this.speed - 10);
                                clearInterval(this.gameLoop);
                                this.gameLoop = setInterval(() => this.update(), this.speed);
                            }
                            
                            if (System.soundEnabled) System.playSound('button-sound');
                        } else {
                            this.snake.pop();
                        }
                        
                        this.draw();
                    },
                    
                    draw() {
                        this.ctx.fillStyle = '#000';
                        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                        
                        // ç¶²æ ¼
                        this.ctx.strokeStyle = '#003333';
                        this.ctx.lineWidth = 1;
                        for (let x = 0; x < this.canvas.width; x += this.gridSize) {
                            this.ctx.beginPath();
                            this.ctx.moveTo(x, 0);
                            this.ctx.lineTo(x, this.canvas.height);
                            this.ctx.stroke();
                        }
                        for (let y = 0; y < this.canvas.height; y += this.gridSize) {
                            this.ctx.beginPath();
                            this.ctx.moveTo(0, y);
                            this.ctx.lineTo(this.canvas.width, y);
                            this.ctx.stroke();
                        }
                        
                        // è›‡
                        this.snake.forEach((segment, index) => {
                            this.ctx.fillStyle = index === 0 ? '#00ff00' : '#00cc00';
                            this.ctx.fillRect(
                                segment.x * this.gridSize + 1,
                                segment.y * this.gridSize + 1,
                                this.gridSize - 2,
                                this.gridSize - 2
                            );
                        });
                        
                        // é£Ÿç‰©
                        this.ctx.fillStyle = '#ff3333';
                        this.ctx.beginPath();
                        this.ctx.arc(
                            this.food.x * this.gridSize + this.gridSize / 2,
                            this.food.y * this.gridSize + this.gridSize / 2,
                            this.gridSize / 2 - 2, 0, Math.PI * 2
                        );
                        this.ctx.fill();
                    },
                    
                    generateFood() {
                        let food, onSnake;
                        do {
                            food = {
                                x: Math.floor(Math.random() * (this.canvas.width / this.gridSize)),
                                y: Math.floor(Math.random() * (this.canvas.height / this.gridSize))
                            };
                            onSnake = this.snake.some(segment => segment.x === food.x && segment.y === food.y);
                        } while (onSnake);
                        return food;
                    },
                    
                    changeDirection(newDirection) {
                        if ((this.direction === 'up' && newDirection !== 'down') ||
                            (this.direction === 'down' && newDirection !== 'up') ||
                            (this.direction === 'left' && newDirection !== 'right') ||
                            (this.direction === 'right' && newDirection !== 'left')) {
                            this.nextDirection = newDirection.replace('Arrow', '').toLowerCase();
                        }
                    },
                    
                    updateScore() {
                        document.getElementById('snake-score').textContent = this.score;
                        if (this.score > System.snakeHighScore) {
                            System.snakeHighScore = this.score;
                            document.getElementById('snake-high-score').textContent = this.score;
                            System.saveToStorage();
                        }
                    },
                    
                    gameOver() {
                        this.pause();
                        System.showNotification(`éŠæˆ²çµæŸï¼å¾—åˆ†: ${this.score}`, 'info');
                        System.addHistory(`è²ªé£Ÿè›‡éŠæˆ²çµæŸï¼Œå¾—åˆ†: ${this.score}`);
                        
                        if (System.vibrationEnabled) System.vibrate();
                        
                        setTimeout(() => {
                            document.getElementById('game-container').classList.remove('active');
                            System.gameActive = false;
                        }, 2000);
                    }
                };
            },
            
            // åˆ‡æ›éŠæˆ²
            toggleGame() {
                // åªæœ‰Nokia 3310å’Œæ—©æœŸæ™ºèƒ½æ‰‹æ©Ÿæœ‰è²ªé£Ÿè›‡
                if (this.currentDevice !== 'nokia3310' && this.currentDevice !== 'earlysmartphone') {
                    this.showNotification('æ­¤è¨­å‚™æ²’æœ‰è²ªé£Ÿè›‡éŠæˆ²', 'warning');
                    return;
                }
                
                this.gameActive = !this.gameActive;
                const gameContainer = document.getElementById('game-container');
                
                if (this.gameActive) {
                    gameContainer.classList.add('active');
                    this.startSnakeGame();
                    this.showNotification('è²ªé£Ÿè›‡éŠæˆ²é–‹å§‹ï¼', 'success');
                    this.addHistory('é–‹å§‹è²ªé£Ÿè›‡éŠæˆ²');
                } else {
                    gameContainer.classList.remove('active');
                    this.pauseSnakeGame();
                    this.showNotification('éŠæˆ²å·²æš«åœ', 'info');
                }
                
                if (this.soundEnabled) this.playSound('button-sound');
            },
            
            startSnakeGame() {
                if (this.snakeGame) this.snakeGame.start();
            },
            
            pauseSnakeGame() {
                if (this.snakeGame) this.snakeGame.pause();
            },
            
            // å…¶ä»–éŠæˆ²
            startTetrisGame() {
                this.showNotification('ä¿„ç¾…æ–¯æ–¹å¡ŠéŠæˆ²é–‹ç™¼ä¸­', 'info');
                this.addHistory('å˜—è©¦å•Ÿå‹•ä¿„ç¾…æ–¯æ–¹å¡ŠéŠæˆ²');
                if (this.soundEnabled) this.playSound('button-sound');
            },
            
            startSpaceImpact() {
                this.showNotification('å¤ªç©ºå¤§æˆ°éŠæˆ²é–‹ç™¼ä¸­', 'info');
                this.addHistory('å˜—è©¦å•Ÿå‹•å¤ªç©ºå¤§æˆ°éŠæˆ²');
                if (this.soundEnabled) this.playSound('button-sound');
            },
            
            startBounceGame() {
                this.showNotification('å½ˆçƒéŠæˆ²é–‹ç™¼ä¸­', 'info');
                this.addHistory('å˜—è©¦å•Ÿå‹•å½ˆçƒéŠæˆ²');
                if (this.soundEnabled) this.playSound('button-sound');
            },
            
            // èª¿æ•´éŸ³é‡
            adjustVolume(change) {
                this.showNotification(`éŸ³é‡ ${change > 0 ? 'å¢åŠ ' : 'æ¸›å°‘'}`, 'info');
                if (this.soundEnabled) this.playSound('button-sound');
                this.addHistory(`èª¿æ•´éŸ³é‡: ${change > 0 ? '+' : ''}${change}`);
            },
            
            // èª¿æ•´äº®åº¦
            adjustBrightness(change) {
                const deviceDisplay = document.querySelector('.device-display > div');
                if (deviceDisplay) {
                    let opacity = parseFloat(getComputedStyle(deviceDisplay).opacity) || 1;
                    opacity = Math.max(0.3, Math.min(1, opacity + change/100));
                    deviceDisplay.style.opacity = opacity;
                    this.showNotification(`äº®åº¦ ${change > 0 ? 'å¢åŠ ' : 'æ¸›å°‘'}`, 'info');
                    if (this.soundEnabled) this.playSound('button-sound');
                }
            },
            
            // åˆ‡æ›éœ‡å‹•
            toggleVibration() {
                this.vibrationEnabled = !this.vibrationEnabled;
                this.showNotification(`éœ‡å‹•æ¨¡å¼${this.vibrationEnabled ? 'é–‹å•Ÿ' : 'é—œé–‰'}`, this.vibrationEnabled ? 'success' : 'info');
                if (this.vibrationEnabled) this.vibrate();
                if (this.soundEnabled) this.playSound('button-sound');
                this.addHistory(`éœ‡å‹•æ¨¡å¼${this.vibrationEnabled ? 'é–‹å•Ÿ' : 'é—œé–‰'}`);
            },
            
            // åˆ‡æ›èƒŒå…‰
            toggleBacklight() {
                this.backlightEnabled = !this.backlightEnabled;
                const deviceDisplay = document.querySelector('.device-display > div');
                if (deviceDisplay) {
                    if (this.backlightEnabled) {
                        deviceDisplay.style.opacity = '1';
                        this.showNotification('èƒŒå…‰å·²é–‹å•Ÿ', 'success');
                    } else {
                        deviceDisplay.style.opacity = '0.5';
                        this.showNotification('èƒŒå…‰å·²é—œé–‰', 'info');
                    }
                    if (this.soundEnabled) this.playSound('button-sound');
                }
            },
            
            // åˆ‡æ›éŸ³æ•ˆ
            toggleSound() {
                this.soundEnabled = !this.soundEnabled;
                const btn = document.getElementById('sound-toggle');
                
                if (this.soundEnabled) {
                    btn.innerHTML = '<i class="fas fa-volume-up"></i>';
                    this.showNotification('éŸ³æ•ˆå·²é–‹å•Ÿ', 'success');
                    this.playSound('button-sound');
                } else {
                    btn.innerHTML = '<i class="fas fa-volume-mute"></i>';
                    this.showNotification('éŸ³æ•ˆå·²é—œé–‰', 'info');
                    ['beep-sound', 'call-sound', 'button-sound', 'message-sound', 'nokia-tune', 'rotary-dial-sound', 'pager-beep', 'camera-sound'].forEach(id => {
                        this.stopSound(id);
                    });
                }
                
                this.addHistory(`éŸ³æ•ˆ${this.soundEnabled ? 'é–‹å•Ÿ' : 'é—œé–‰'}`);
            },
            
            // æ’­æ”¾éŸ³æ•ˆ
            playSound(soundId) {
                if (!this.soundEnabled) return;
                try {
                    const sound = document.getElementById(soundId);
                    if (sound) {
                        sound.currentTime = 0;
                        sound.play().catch(e => console.log('éŸ³æ•ˆæ’­æ”¾å¤±æ•—:', e));
                    }
                } catch (e) {}
            },
            
            // åœæ­¢éŸ³æ•ˆ
            stopSound(soundId) {
                try {
                    const sound = document.getElementById(soundId);
                    if (sound) {
                        sound.pause();
                        sound.currentTime = 0;
                    }
                } catch (e) {}
            },
            
            // æŒ¯å‹•
            vibrate() {
                if (!this.vibrationEnabled) return;
                const device = document.querySelector('.device-display');
                if (device) {
                    device.classList.add('shake');
                    setTimeout(() => device.classList.remove('shake'), 500);
                }
            },
            
            // é—œæ©Ÿ
            powerOff() {
                const deviceDisplay = document.querySelector('.device-display');
                if (deviceDisplay) {
                    deviceDisplay.classList.add('power-off');
                    this.showNotification('è¨­å‚™æ­£åœ¨é—œæ©Ÿ...', 'warning');
                    
                    setTimeout(() => {
                        deviceDisplay.classList.remove('power-off');
                        this.batteryLevel = 92;
                        document.getElementById('battery-level').textContent = '92%';
                        document.getElementById('battery-level').style.color = '';
                        document.getElementById('battery-bar').style.width = '92%';
                        this.showPage('device-page');
                        this.showNotification('è«‹é‡æ–°é–‹å•Ÿè¨­å‚™', 'info');
                    }, 2000);
                }
            },
            
            // æ›´æ–°æ™‚é–“
            updateTime() {
                const now = new Date();
                const hours = now.getHours().toString().padStart(2, '0');
                const minutes = now.getMinutes().toString().padStart(2, '0');
                const timeElement = document.getElementById('current-time');
                if (timeElement) timeElement.textContent = `${hours}:${minutes}`;
            },
            
            // ç²å–ç•¶å‰æ™‚é–“
            getCurrentTime() {
                const now = new Date();
                const hours = now.getHours().toString().padStart(2, '0');
                const minutes = now.getMinutes().toString().padStart(2, '0');
                return `${hours}:${minutes}`;
            },
            
            // æ·»åŠ æ­·å²è¨˜éŒ„
            addHistory(text) {
                const historyList = document.getElementById('history-list');
                if (historyList) {
                    const time = this.getCurrentTime();
                    const entry = document.createElement('div');
                    entry.textContent = `${time} - ${text}`;
                    historyList.prepend(entry);
                    
                    if (historyList.children.length > 10) {
                        historyList.removeChild(historyList.lastChild);
                    }
                }
            },
            
            // é¡¯ç¤ºé€šçŸ¥
            showNotification(message, type = 'info') {
                const notificationContainer = document.getElementById('notification-container');
                if (!notificationContainer) return;
                
                const notification = document.createElement('div');
                notification.className = 'notification';
                
                const icons = {
                    'info': 'fa-info-circle',
                    'success': 'fa-check-circle',
                    'warning': 'fa-exclamation-triangle',
                    'error': 'fa-times-circle'
                };
                
                const icon = icons[type] || 'fa-info-circle';
                const iconColor = type === 'success' ? '#00cc00' : 
                                 type === 'warning' ? '#ffcc00' : 
                                 type === 'error' ? '#ff3333' : '#00ccff';
                
                notification.innerHTML = `
                    <div class="notification-icon" style="color: ${iconColor};">
                        <i class="fas ${icon}"></i>
                    </div>
                    <div>${message}</div>
                `;
                
                notificationContainer.appendChild(notification);
                
                setTimeout(() => notification.classList.add('show'), 10);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 3000);
            },
            
            // å…¨å±
            toggleFullscreen() {
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen().catch(err => {
                        this.showNotification('ç„¡æ³•é€²å…¥å…¨å±æ¨¡å¼', 'error');
                    });
                    this.showNotification('å…¨å±æ¨¡å¼å·²é–‹å•Ÿ', 'success');
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                        this.showNotification('å…¨å±æ¨¡å¼å·²é—œé–‰', 'info');
                    }
                }
                
                if (this.soundEnabled) this.playSound('button-sound');
            }
        };
        
        // å…¨å±€å‡½æ•¸
        function showPage(pageId) { System.showPage(pageId); }
        function selectDevice(deviceType) { System.selectDevice(deviceType); }
        function makeCall(number) { System.makeCall(number); }
        function simulateCall() { System.simulateCall(); }
        function answerCall() { System.answerCall(); }
        function endCall() { System.endCall(); }
        function toggleGame() { System.toggleGame(); }
        function startSnakeGame() { System.toggleGame(); }
        function startTetrisGame() { System.startTetrisGame(); }
        function startSpaceImpact() { System.startSpaceImpact(); }
        function startBounceGame() { System.startBounceGame(); }
        function adjustVolume(change) { System.adjustVolume(change); }
        function adjustBrightness(change) { System.adjustBrightness(change); }
        function toggleVibration() { System.toggleVibration(); }
        function toggleBacklight() { System.toggleBacklight(); }
        function toggleSound() { System.toggleSound(); }
        function toggleFullscreen() { System.toggleFullscreen(); }
        function openApp(appName) { System.openApp(appName); }
        function closeApp() { System.closeApp(); }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            System.init();
        });
    </script>
</body>
</html>